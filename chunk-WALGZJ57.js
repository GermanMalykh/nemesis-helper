import{a as un,b as gn,d as hn,f as ct,h as he,i as fn,j as _n,k as fe,l as vn,m as bn,n as dt,o as Mn,p as yn,r as Fe,s as Be,t as pt,u as ut,v as gt,w as ht,x as Cn}from"./chunk-LO42GJAF.js";import{A as O,D as ue,I as It,J as st,K as pn,L as Pt,M as lt,N as Re,Q as qe,R as Ce,T as re,U as De,V as ke,Z as Ae,_ as $,a as en,aa as mt,ba as V,c as tn,ca as G,d as nn,da as xe,ea as Se,fa as ge,h as on,i as an,k as rn,n as sn,o as ln,p as mn,q as wt,r as cn,u as dn,y as Oe,z as A}from"./chunk-24WXQJQE.js";import{a as kn}from"./chunk-2GAP2OKK.js";import{$a as g,$b as ae,A as et,Ba as He,C as xt,Ca as jt,Db as ye,Ea as R,Eb as We,Fa as Vt,Ga as Tt,Gb as Xt,Ha as M,Ia as Me,Ja as _,Jb as at,K as tt,L as St,La as ee,M as Te,Mb as pe,Na as b,Oa as le,Ob as rt,Pa as $e,Q as me,Qa as F,Qb as Zt,Ra as B,S as ie,Sa as l,T as be,Ta as s,U as C,Ua as T,V as W,W as S,Wa as P,Xb as Jt,Y as we,Ya as Ht,Z as H,Za as y,_a as $t,a as I,ab as Ge,b as K,ba as k,bb as Ee,ca as x,cb as nt,d as ne,da as Kt,db as Ue,eb as ce,f as J,fb as de,gb as oe,h as Ct,ha as Ie,hb as d,ib as h,ja as Pe,jb as v,k as kt,ka as j,kb as it,la as zt,lb as Gt,mb as Ut,nb as Wt,ob as ot,pb as w,qb as qt,ra as q,s as Lt,sa as r,sb as Qt,t as Ze,ta as N,tb as c,ub as p,v as X,va as Ve,vb as L,wb as Yt,z as Je}from"./chunk-MVXMPEVG.js";function pi(i,n){if(i&1){let a=P();l(0,"div",1)(1,"button",2),y("click",function(){k(a);let t=g();return x(t.action())}),d(2),s()()}if(i&2){let a=g();r(2),v(" ",a.data.action," ")}}var ui=["label"];function gi(i,n){}var hi=Math.pow(2,31)-1,Qe=class{constructor(n,a){this._overlayRef=a,this._afterDismissed=new J,this._afterOpened=new J,this._onAction=new J,this._dismissedByAction=!1,this.containerInstance=n,n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,hi))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},xn=new ie("MatSnackBarData"),Ne=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},fi=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=we({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let i=n;return i})(),_i=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=we({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let i=n;return i})(),vi=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=we({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let i=n;return i})(),bi=(()=>{let n=class n{constructor(e,t){this.snackBarRef=e,this.data=t}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};n.\u0275fac=function(t){return new(t||n)(N(Qe),N(xn))},n.\u0275cmp=S({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[w],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,o){t&1&&(l(0,"div",0),d(1),s(),M(2,pi,3,1,"div",1)),t&2&&(r(),v(" ",o.data.message,`
`),r(),b(2,o.hasAction?2:-1))},dependencies:[V,fi,_i,vi],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let i=n;return i})(),Mi={snackBarState:qe("state",[De("void, hidden",re({transform:"scale(0.8)",opacity:0})),De("visible",re({transform:"scale(1)",opacity:1})),ke("* => visible",Ce("150ms cubic-bezier(0, 0, 0.2, 1)")),ke("* => void, * => hidden",Ce("75ms cubic-bezier(0.4, 0.0, 1, 1)",re({opacity:0})))])},yi=0,Ci=(()=>{let n=class n extends pn{constructor(e,t,o,m,u){super(),this._ngZone=e,this._elementRef=t,this._changeDetectorRef=o,this._platform=m,this.snackBarConfig=u,this._document=C(at),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new J,this._onExit=new J,this._onEnter=new J,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${yi++}`,this.attachDomPortal=E=>{this._assertNotAttached();let z=this._portalOutlet.attachDomPortal(E);return this._afterPortalAttached(),z},u.politeness==="assertive"&&!u.announcementMessage?this._live="assertive":u.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),t}attachTemplatePortal(e){this._assertNotAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),t}onAnimationEnd(e){let{fromState:t,toState:o}=e;if((o==="void"&&t!=="void"||o==="hidden")&&this._completeExit(),o==="visible"){let m=this._onEnter;this._ngZone.run(()=>{m.next(),m.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,t=this.snackBarConfig.panelClass;t&&(Array.isArray(t)?t.forEach(u=>e.classList.add(u)):e.classList.add(t)),this._exposeToModals();let o=this._label.nativeElement,m="mdc-snackbar__label";o.classList.toggle(m,!o.querySelector(`.${m}`))}_exposeToModals(){let e=this._liveElementId,t=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<t.length;o++){let m=t[o],u=m.getAttribute("aria-owns");this._trackedModals.add(m),u?u.indexOf(e)===-1&&m.setAttribute("aria-owns",u+" "+e):m.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let t=e.getAttribute("aria-owns");if(t){let o=t.replace(this._liveElementId,"").trim();o.length>0?e.setAttribute("aria-owns",o):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),t=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&t){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),t.appendChild(e),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};n.\u0275fac=function(t){return new(t||n)(N(He),N(Pe),N(ye),N(en),N(Ne))},n.\u0275cmp=S({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,o){if(t&1&&(Ue(Pt,7),Ue(ui,7)),t&2){let m;ce(m=de())&&(o._portalOutlet=m.first),ce(m=de())&&(o._label=m.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(t,o){t&1&&$t("@state.done",function(u){return o.onAnimationEnd(u)}),t&2&&Ht("@state",o._animationState)},standalone:!0,features:[Vt,w],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,o){t&1&&(l(0,"div",1)(1,"div",2,0)(3,"div",3),M(4,gi,0,0,"ng-template",4),s(),T(5,"div"),s()()),t&2&&(r(5),Me("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[Pt],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Mi.snackBarState]}});let i=n;return i})();function ki(){return new Ne}var xi=new ie("mat-snack-bar-default-options",{providedIn:"root",factory:ki}),Sn=(()=>{let n=class n{get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,t,o,m,u,E){this._overlay=e,this._live=t,this._injector=o,this._breakpointObserver=m,this._parentSnackBar=u,this._defaultConfig=E,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=bi,this.snackBarContainerComponent=Ci,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,t){return this._attach(e,t)}openFromTemplate(e,t){return this._attach(e,t)}open(e,t="",o){let m=I(I({},this._defaultConfig),o);return m.data={message:e,action:t},m.announcementMessage===e&&(m.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,m)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,t){let o=t&&t.viewContainerRef&&t.viewContainerRef.injector,m=Ie.create({parent:o||this._injector,providers:[{provide:Ne,useValue:t}]}),u=new It(this.snackBarContainerComponent,t.viewContainerRef,m),E=e.attach(u);return E.instance.snackBarConfig=t,E.instance}_attach(e,t){let o=I(I(I({},new Ne),this._defaultConfig),t),m=this._createOverlay(o),u=this._attachSnackBarContainer(m,o),E=new Qe(u,m);if(e instanceof Ve){let z=new st(e,null,{$implicit:o.data,snackBarRef:E});E.instance=u.attachTemplatePortal(z)}else{let z=this._createInjector(o,E),Q=new It(e,void 0,z),Y=u.attachComponentPortal(Q);E.instance=Y.instance}return this._breakpointObserver.observe(an.HandsetPortrait).pipe(Te(m.detachments())).subscribe(z=>{m.overlayElement.classList.toggle(this.handsetCssClass,z.matches)}),o.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(E,o),this._openedSnackBarRef=E,this._openedSnackBarRef}_animateSnackBar(e,t){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),t.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),t.duration&&t.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(t.duration))}_createOverlay(e){let t=new lt;t.direction=e.direction;let o=this._overlay.position().global(),m=e.direction==="rtl",u=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!m||e.horizontalPosition==="end"&&m,E=!u&&e.horizontalPosition!=="center";return u?o.left("0"):E?o.right("0"):o.centerHorizontally(),e.verticalPosition==="top"?o.top("0"):o.bottom("0"),t.positionStrategy=o,this._overlay.create(t)}_createInjector(e,t){let o=e&&e.viewContainerRef&&e.viewContainerRef.injector;return Ie.create({parent:o||this._injector,providers:[{provide:Qe,useValue:t},{provide:xn,useValue:e.data}]})}};n.\u0275fac=function(t){return new(t||n)(be(Re),be(mn),be(Ie),be(on),be(n,12),be(xi))},n.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Ei=["mat-menu-item",""],Oi=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Ri=["mat-icon, [matMenuItemIcon]","*"];function Di(i,n){i&1&&(Kt(),l(0,"svg",2),T(1,"polygon",3),s())}var Ai=["*"];function Fi(i,n){if(i&1){let a=P();l(0,"div",0),y("keydown",function(t){k(a);let o=g();return x(o._handleKeydown(t))})("click",function(){k(a);let t=g();return x(t.closed.emit("click"))})("@transformMenu.start",function(t){k(a);let o=g();return x(o._onAnimationStart(t))})("@transformMenu.done",function(t){k(a);let o=g();return x(o._onAnimationDone(t))}),l(1,"div",1),Ee(2),s()()}if(i&2){let a=g();_("id",a.panelId)("ngClass",a._classList)("@transformMenu",a._panelAnimationState),Me("aria-label",a.ariaLabel||null)("aria-labelledby",a.ariaLabelledby||null)("aria-describedby",a.ariaDescribedby||null)}}var Et=new ie("MAT_MENU_PANEL"),te=(()=>{let n=class n{constructor(e,t,o,m,u){this._elementRef=e,this._document=t,this._focusMonitor=o,this._parentMenu=m,this._changeDetectorRef=u,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new J,this._focused=new J,this._highlighted=!1,this._triggersSubmenu=!1,m?.addItem?.(this)}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),t=e.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<t.length;o++)t[o].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}};n.\u0275fac=function(t){return new(t||n)(N(Pe),N(at),N(wt),N(Et,8),N(ye))},n.\u0275cmp=S({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(t,o){t&1&&y("click",function(u){return o._checkDisabled(u)})("mouseenter",function(){return o._handleMouseEnter()}),t&2&&(Me("role",o.role)("tabindex",o._getTabIndex())("aria-disabled",o.disabled)("disabled",o.disabled||null),ee("mat-mdc-menu-item-highlighted",o._highlighted)("mat-mdc-menu-item-submenu-trigger",o._triggersSubmenu))},inputs:{role:"role",disabled:[W.HasDecoratorInputTransform,"disabled","disabled",We],disableRipple:[W.HasDecoratorInputTransform,"disableRipple","disableRipple",We]},exportAs:["matMenuItem"],standalone:!0,features:[Tt,w],attrs:Ei,ngContentSelectors:Ri,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,o){t&1&&(Ge(Oi),Ee(0),l(1,"span",0),Ee(2,1),s(),T(3,"div",1),M(4,Di,2,0,":svg:svg",2)),t&2&&(r(3),_("matRippleDisabled",o.disableRipple||o.disabled)("matRippleTrigger",o._getHostElement()),r(),b(4,o._triggersSubmenu?4:-1))},dependencies:[dn],encapsulation:2,changeDetection:0});let i=n;return i})();var Bi=new ie("MatMenuContent");var ft={transformMenu:qe("transformMenu",[De("void",re({opacity:0,transform:"scale(0.8)"})),ke("void => enter",Ce("120ms cubic-bezier(0, 0, 0.2, 1)",re({opacity:1,transform:"scale(1)"}))),ke("* => void",Ce("100ms 25ms linear",re({opacity:0})))]),fadeInItems:qe("fadeInItems",[De("showing",re({opacity:1})),ke("void => *",[re({opacity:0}),Ce("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},hr=ft.fadeInItems,fr=ft.transformMenu,Ni=0,Li=new ie("mat-menu-default-options",{providedIn:"root",factory:Ki});function Ki(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var Z=(()=>{let n=class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){let t=this._previousPanelClass;t&&t.length&&t.split(" ").forEach(o=>{this._classList[o]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(o=>{this._classList[o]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,t,o,m){this._elementRef=e,this._ngZone=t,this._changeDetectorRef=m,this._elevationPrefix="mat-elevation-z",this._baseElevation=8,this._directDescendantItems=new zt,this._classList={},this._panelAnimationState="void",this._animationDone=new J,this.closed=new j,this.close=this.closed,this.panelId=`mat-menu-panel-${Ni++}`,this.overlayPanelClass=o.overlayPanelClass||"",this._xPosition=o.xPosition,this._yPosition=o.yPosition,this.backdropClass=o.backdropClass,this.overlapTrigger=o.overlapTrigger,this.hasBackdrop=o.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new rn(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(tt(this._directDescendantItems),St(e=>Ze(...e.map(t=>t._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let t=this._keyManager;if(this._panelAnimationState==="enter"&&t.activeItem?._hasFocus()){let o=e.toArray(),m=Math.max(0,Math.min(o.length-1,t.activeItemIndex||0));o[m]&&!o[m].disabled?t.setActiveItem(m):t.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(tt(this._directDescendantItems),St(t=>Ze(...t.map(o=>o._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let t=e.keyCode,o=this._keyManager;switch(t){case 27:nn(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(t===38||t===40)&&o.setFocusOrigin("keyboard"),o.onKeydown(e);return}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(et(1)).subscribe(()=>{let t=null;if(this._directDescendantItems.length&&(t=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!t||!t.contains(document.activeElement)){let o=this._keyManager;o.setFocusOrigin(e).setFirstItemActive(),!o.activeItem&&t&&t.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){let t=Math.min(this._baseElevation+e,24),o=`${this._elevationPrefix}${t}`,m=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!m||m===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[o]=!0,this._previousElevation=o)}setPositionClasses(e=this.xPosition,t=this.yPosition){let o=this._classList;o["mat-menu-before"]=e==="before",o["mat-menu-after"]=e==="after",o["mat-menu-above"]=t==="above",o["mat-menu-below"]=t==="below",this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,e.toState==="enter"&&this._keyManager.activeItemIndex===0&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(tt(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}};n.\u0275fac=function(t){return new(t||n)(N(Pe),N(He),N(Li),N(ye))},n.\u0275cmp=S({type:n,selectors:[["mat-menu"]],contentQueries:function(t,o,m){if(t&1&&(nt(m,Bi,5),nt(m,te,5),nt(m,te,4)),t&2){let u;ce(u=de())&&(o.lazyContent=u.first),ce(u=de())&&(o._allItems=u),ce(u=de())&&(o.items=u)}},viewQuery:function(t,o){if(t&1&&Ue(Ve,5),t&2){let m;ce(m=de())&&(o.templateRef=m.first)}},hostVars:3,hostBindings:function(t,o){t&2&&Me("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[W.None,"aria-label","ariaLabel"],ariaLabelledby:[W.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[W.None,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[W.HasDecoratorInputTransform,"overlapTrigger","overlapTrigger",We],hasBackdrop:[W.HasDecoratorInputTransform,"hasBackdrop","hasBackdrop",e=>e==null?null:We(e)],panelClass:[W.None,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[ot([{provide:Et,useExisting:n}]),Tt,w],ngContentSelectors:Ai,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id","ngClass"],[1,"mat-mdc-menu-content"]],template:function(t,o){t&1&&(Ge(),M(0,Fi,3,6,"ng-template"))},dependencies:[pe],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:var(--mat-menu-item-trailing-spacing);padding-right:var(--mat-menu-item-leading-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]),.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon])[dir=rtl]{padding-left:var(--mat-menu-item-with-icon-trailing-spacing);padding-right:var(--mat-menu-item-with-icon-leading-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[ft.transformMenu,ft.fadeInItems]},changeDetection:0});let i=n;return i})(),zi=new ie("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let i=C(Re);return()=>i.scrollStrategies.reposition()}});var Tn=tn({passive:!0});var _e=(()=>{let n=class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(t=>{this._destroyMenu(t),(t==="click"||t==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(t)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,t,o,m,u,E,z,Q,Y){this._overlay=e,this._element=t,this._viewContainerRef=o,this._menuItemInstance=E,this._dir=z,this._focusMonitor=Q,this._ngZone=Y,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=ne.EMPTY,this._hoverSubscription=ne.EMPTY,this._menuCloseSubscription=ne.EMPTY,this._changeDetectorRef=C(ye),this._handleTouchStart=ze=>{ln(ze)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new j,this.onMenuOpen=this.menuOpened,this.menuClosed=new j,this.onMenuClose=this.menuClosed,this._scrollStrategy=m,this._parentMaterialMenu=u instanceof Z?u:void 0,t.nativeElement.addEventListener("touchstart",this._handleTouchStart,Tn)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Tn),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;let t=this._createOverlay(e),o=t.getConfig(),m=o.positionStrategy;this._setPosition(e,m),o.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,t.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Z&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Te(e.close)).subscribe(()=>{m.withLockedPosition(!1).reapplyLastPosition(),m.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;let t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,t instanceof Z?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(X(o=>o.toState==="void"),et(1),Te(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let t=0,o=e.parentMenu;for(;o;)t++,o=o.parentMenu;e.setElevation(t)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let t=this._getOverlayConfig(e);this._subscribeToPositions(e,t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new lt({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,t){e.setPositionClasses&&t.positionChanges.subscribe(o=>{let m=o.connectionPair.overlayX==="start"?"after":"before",u=o.connectionPair.overlayY==="top"?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(m,u)):e.setPositionClasses(m,u)})}_setPosition(e,t){let[o,m]=e.xPosition==="before"?["end","start"]:["start","end"],[u,E]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[z,Q]=[u,E],[Y,ze]=[o,m],je=0;if(this.triggersSubmenu()){if(ze=o=e.xPosition==="before"?"start":"end",m=Y=o==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let Nt=this._parentMaterialMenu.items.first;this._parentInnerPadding=Nt?Nt._getHostElement().offsetTop:0}je=u==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(z=u==="top"?"bottom":"top",Q=E==="top"?"bottom":"top");t.withPositions([{originX:o,originY:z,overlayX:Y,overlayY:u,offsetY:je},{originX:m,originY:z,overlayX:ze,overlayY:u,offsetY:je},{originX:o,originY:Q,overlayX:Y,overlayY:E,offsetY:-je},{originX:m,originY:Q,overlayX:ze,overlayY:E,offsetY:-je}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),t=this._overlayRef.detachments(),o=this._parentMaterialMenu?this._parentMaterialMenu.closed:kt(),m=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(X(u=>u!==this._menuItemInstance),X(()=>this._menuOpen)):kt();return Ze(e,o,m,t)}_handleMousedown(e){sn(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let t=e.keyCode;(t===13||t===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(t===39&&this.dir==="ltr"||t===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(X(e=>e===this._menuItemInstance&&!e.disabled),xt(0,Ct)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Z&&this.menu._isAnimating?this.menu._animationDone.pipe(et(1),xt(0,Ct),Te(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new st(e.templateRef,this._viewContainerRef)),this._portal}};n.\u0275fac=function(t){return new(t||n)(N(Re),N(Pe),N(jt),N(zi),N(Et,8),N(te,10),N(cn,8),N(wt),N(He))},n.\u0275dir=we({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(t,o){t&1&&y("click",function(u){return o._handleClick(u)})("mousedown",function(u){return o._handleMousedown(u)})("keydown",function(u){return o._handleKeydown(u)}),t&2&&Me("aria-haspopup",o.menu?"menu":null)("aria-expanded",o.menuOpen)("aria-controls",o.menuOpen?o.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[W.None,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[W.None,"matMenuTriggerFor","menu"],menuData:[W.None,"matMenuTriggerData","menuData"],restoreFocus:[W.None,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0});let i=n;return i})();var f=function(i){return i.QUEEN="Q",i.BREEDER="B",i.ADULT="A",i.CREEPER="C",i.LARVA="L",i.BLANK="BLANK",i}(f||{});var Pn=(()=>{let n=class n{transform(e,t,o){return`assets/images/${t||""}${e||"INVALID_IMAGE_NAME"}.${o||"jpg"}`}};n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=H({name:"imageUrl",type:n,pure:!0,standalone:!0});let i=n;return i})();var ve=(()=>{let n=class n{transform(e){switch(e){case f.QUEEN:return"tk.config.label.monster-type.queen";case f.BREEDER:return"tk.config.label.monster-type.breeder";case f.ADULT:return"tk.config.label.monster-type.adult";case f.CREEPER:return"tk.config.label.monster-type.creeper";case f.LARVA:return"tk.config.label.monster-type.larva";case f.BLANK:return"tk.config.label.monster-type.blank";default:return""}}};n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=H({name:"monsterTypeTk",type:n,pure:!0,standalone:!0});let i=n;return i})();function ji(i,n){if(i&1&&(l(0,"span",1),d(1),c(2,"monsterTypeTk"),c(3,"translate"),s()),i&2){let a=g(2);r(),h(p(3,3,p(2,1,a.monster.type)))}}function Vi(i,n){if(i&1&&(l(0,"span",8),d(1),s(),l(2,"span",9),d(3),s()),i&2){let a=g(3);r(),v("\u03DF ",a.monster.powerActive,""),r(2),v("\u03DF ",a.monster.powerInactive,"")}}function Hi(i,n){if(i&1&&(l(0,"span",10),d(1),s(),l(2,"span",11),d(3,"\u0412\u043D\u0438\u043C\u0430\u043D\u0438\u0435"),s()),i&2){let a=g(3);r(),h(a.monster.surprise)}}function $i(i,n){if(i&1&&(l(0,"div",3),M(1,Vi,4,2)(2,Hi,4,1),s()),i&2){let a=g(2);r(),b(1,a.monster.powerInactive!==void 0?1:a.monster.surprise!==void 0?2:-1)}}function Gi(i,n){if(i&1&&(T(0,"img",12),c(1,"imageUrl")),i&2){let a=g(2);_("ngSrc",Yt(1,1,a.monster.type,"m","svg"))}}function Ui(i,n){if(i&1){let a=P();l(0,"button",4),y("click",function(){k(a);let t=g(2);return x(t.kill.emit(t.monster))}),l(1,"div",5)(2,"span"),d(3),c(4,"translate"),s(),T(5,"mat-icon",13),s()()}i&2&&(r(3),h(p(4,1,"tk.monster-item.button.kill")))}function Wi(i,n){if(i&1){let a=P();l(0,"button",4),y("click",function(){k(a);let t=g(2);return x(t.retreat.emit(t.monster))}),l(1,"div",5)(2,"span"),d(3),c(4,"translate"),s(),T(5,"mat-icon",14),s()()}i&2&&(r(3),h(p(4,1,"tk.monster-item.button.retreat")))}function qi(i,n){if(i&1){let a=P();M(0,ji,4,5,"span",1),l(1,"div",2),M(2,$i,3,1,"div",3)(3,Gi,2,5),s(),l(4,"mat-menu",null,0)(6,"button",4),y("click",function(){k(a);let t=g();return x(t.onRotate())}),l(7,"div",5)(8,"span"),d(9),c(10,"translate"),s(),T(11,"mat-icon",6),s()(),M(12,Ui,6,3,"button",7)(13,Wi,6,3,"button",7),s()}if(i&2){let a=oe(5),e=g();b(0,e.showName?0:-1),r(),ee("clickable",e.showMenu),_("matMenuTriggerFor",e.showMenu?a:null),r(),b(2,e.flippedS()&&e.monster.type!==e.monsterType.BLANK?2:3),r(7),h(p(10,8,"tk.monster-item.button.rotate")),r(3),b(12,e.kill.observed?12:-1),r(),b(13,e.retreat.observed?13:-1)}}var Qi=3e3,Le=(()=>{let n=class n{constructor(){this.showName=!0,this.showMenu=!1,this.kill=new j,this.retreat=new j,this.flippedS=R(!1),this.monsterType=f}set flipped(e){this.clearRotationTimeout(),this.flippedS.set(e)}onRotate(){this.clearRotationTimeout();let e=this.flippedS();e||(this.timeoutRef=setTimeout(()=>{this.flippedS.set(!1)},Qi)),this.flippedS.set(!e)}clearRotationTimeout(){clearTimeout(this.timeoutRef),this.timeoutRef=void 0}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["app-monster-item"]],inputs:{monster:"monster",showName:"showName",showMenu:"showMenu",flipped:"flipped"},outputs:{kill:"kill",retreat:"retreat"},standalone:!0,features:[w],decls:1,vars:1,consts:[["tokenMenu","matMenu"],[1,"font-16-600"],[1,"token",3,"matMenuTriggerFor"],[1,"back"],["mat-menu-item","",3,"click"],[1,"icon-with-label"],["svgIcon","rotate"],["mat-menu-item",""],[1,"power-active","font-20-600"],[1,"power-inactive","font-20-600"],[1,"surprise","font-20-600"],[1,"warning"],["width","64","height","64","priority","1",3,"ngSrc"],["svgIcon","trash_x"],["svgIcon","bag"]],template:function(t,o){t&1&&M(0,qi,14,10),t&2&&b(0,o.monster?0:-1)},dependencies:[Zt,ve,O,A,Pn,Z,te,_e,ue],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .token[_ngcontent-%COMP%]{width:64px;height:64px}[_nghost-%COMP%]   .token[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;border:2px solid var(--monster-token-back-border-color);box-sizing:border-box}[_nghost-%COMP%]   .token[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:64px;height:64px;background:var(--monster-token-back-background-color);border-radius:50%;border:2px solid var(--monster-token-back-border-color);box-sizing:border-box}[_nghost-%COMP%]   .token[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .power-active[_ngcontent-%COMP%]{color:var(--active-power-color)}[_nghost-%COMP%]   .token[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .power-inactive[_ngcontent-%COMP%]{color:var(--inactive-power-color)}[_nghost-%COMP%]   .token[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .surprise[_ngcontent-%COMP%]{line-height:14px;color:var(--box-text-color)}[_nghost-%COMP%]   .token[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{font-size:8px;text-transform:uppercase;color:var(--box-text-color)}[_nghost-%COMP%]   .clickable[_ngcontent-%COMP%]{cursor:pointer}.icon-with-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--sizing-5)}"],changeDetection:0});let i=n;return i})();var En=(()=>{let n=class n{transform(e,t){return e.some(o=>t===o.type)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=H({name:"monsterAttainable",type:n,pure:!0,standalone:!0});let i=n;return i})();var _t=()=>Object.values(f).map(i=>i);var Yi=(i,n)=>n.id;function Xi(i,n){if(i&1){let a=P();l(0,"button",15),c(1,"monsterAttainable"),y("click",function(){let t=k(a).$implicit,o=g();return x(o.draw.emit(t))}),d(2),c(3,"monsterTypeTk"),c(4,"translate"),s()}if(i&2){let a=n.$implicit,e=g();_("disabled",!L(1,2,e.bagMonsters,a)),r(2),v(" ",p(4,7,p(3,5,a))," ")}}function Zi(i,n){if(i&1){let a=P();l(0,"button",15),c(1,"monsterAttainable"),y("click",function(){let t=k(a).$implicit,o=g();return x(o.add.emit(t))}),d(2),c(3,"monsterTypeTk"),c(4,"translate"),s()}if(i&2){let a=n.$implicit,e=g();_("disabled",!L(1,2,e.availableMonsters,a)),r(2),v(" ",p(4,7,p(3,5,a))," ")}}function Ji(i,n){if(i&1){let a=P();l(0,"app-monster-item",16),y("kill",function(t){k(a);let o=g();return x(o.onMonsterKill(t))})("retreat",function(t){k(a);let o=g();return x(o.onMonsterRetreat(t))}),s()}if(i&2){let a=n.$implicit;_("monster",a)("showMenu",!0)}}var On=(()=>{let n=class n{constructor(){this.activeMonsters=[],this.availableMonsters=[],this.bagMonsters=[],this.draw=new j,this.add=new j,this.details=new j,this.monsterKill=new j,this.monsterRetreat=new j,this.monstersTypes=_t()}onMonsterKill(e){this.monsterKill.emit(e)}onMonsterRetreat(e){this.monsterRetreat.emit(e)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["app-monsters-section"]],inputs:{activeMonsters:"activeMonsters",availableMonsters:"availableMonsters",bagMonsters:"bagMonsters"},outputs:{draw:"draw",add:"add",details:"details",monsterKill:"monsterKill",monsterRetreat:"monsterRetreat"},standalone:!0,features:[w],decls:39,vars:18,consts:[["drawMonsterMenu","matMenu"],["drawMonsterManuallyMenu","matMenu"],["addMonsterMenu","matMenu"],[1,"buttons-container"],["mat-flat-button","","color","primary","appNonFocusable","",3,"matMenuTriggerFor"],[1,"icon-with-label"],["svgIcon","swords",1,"small-icon"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"disabled"],["svgIcon","bag",1,"small-icon"],["mat-flat-button","","color","primary","appNonFocusable","",3,"click"],["svgIcon","eye",1,"small-icon"],[1,"monsters"],[3,"monster","showMenu"],["mat-menu-item","",3,"click","disabled"],[3,"kill","retreat","monster","showMenu"]],template:function(t,o){if(t&1){let m=P();l(0,"div",3)(1,"button",4)(2,"div",5)(3,"span"),d(4),c(5,"translate"),s(),T(6,"mat-icon",6),s()(),l(7,"mat-menu",null,0)(9,"button",7),y("click",function(){return k(m),x(o.draw.emit(null))}),d(10),c(11,"translate"),s(),l(12,"button",8),d(13),c(14,"translate"),s()(),l(15,"mat-menu",null,1),F(17,Xi,5,9,"button",9,$e),s(),l(19,"button",4)(20,"div",5)(21,"span"),d(22),c(23,"translate"),s(),T(24,"mat-icon",10),s()(),l(25,"mat-menu",null,2),F(27,Zi,5,9,"button",9,$e),s(),l(29,"button",11),y("click",function(){return k(m),x(o.details.emit())}),l(30,"div",5)(31,"span"),d(32),c(33,"translate"),s(),T(34,"mat-icon",12),s()()(),l(35,"div",13)(36,"div"),F(37,Ji,1,2,"app-monster-item",14,Yi),s()()}if(t&2){let m=oe(8),u=oe(16),E=oe(26);r(),_("matMenuTriggerFor",m),r(3),h(p(5,8,"tk.monsters.button.draw")),r(6),v(" ",p(11,10,"tk.monsters.button.draw.random")," "),r(2),_("matMenuTriggerFor",u),r(),v(" ",p(14,12,"tk.monsters.button.draw.manual")," "),r(4),B(o.monstersTypes),r(2),_("matMenuTriggerFor",E),r(3),h(p(23,14,"tk.monsters.button.add")),r(5),B(o.monstersTypes),r(5),h(p(33,16,"tk.monsters.button.details")),r(5),B(o.activeMonsters)}},dependencies:[O,A,V,Le,Z,te,_e,ve,En,G,ue],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column;padding:var(--sizing-20) var(--sizing-10);gap:var(--sizing-20)}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]{gap:var(--sizing-20);display:flex;flex-wrap:wrap}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;min-width:140px}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .icon-with-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:var(--sizing-5)}[_nghost-%COMP%]   .monsters[_ngcontent-%COMP%]{overflow:auto;flex:1 1 0;height:0;padding:var(--sizing-10)}[_nghost-%COMP%]   .monsters[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--sizing-10)}"],changeDetection:0});let i=n;return i})();var Ke=class{static getKeyboardEvent(n){return Lt(document,"keyup").pipe(X(a=>n.includes(a?.key)))}};var eo=(i,n)=>n.id,to=(i,n)=>n.stageId;function no(i,n){if(i&1&&(l(0,"div",7)(1,"span",8),d(2,"\u2192"),s(),l(3,"span",9),d(4),c(5,"translate"),s()()),i&2){let a=n.$implicit,e=g(2);ee("active",e.activeStage===a.stageId),r(4),h(p(5,3,a.labelKey))}}function io(i,n){if(i&1&&(l(0,"div",3)(1,"div",4),d(2),c(3,"translate"),s(),l(4,"div",5),F(5,no,6,5,"div",6,to),s()()),i&2){let a=n.$implicit;r(2),h(p(3,1,a.labelKey)),r(3),B(a.stages)}}var Rn=(()=>{let n=class n{constructor(){this.phasesConfig=[],this.stage=new j,this.modalService=C(ge),this.subSink=new ne}ngOnInit(){this.registerKeyboardListener()}ngOnDestroy(){this.subSink.unsubscribe()}nextStage(){let e=this.phasesConfig.flatMap(m=>m.stages),t=e.findIndex(m=>m.stageId===this.activeStage),o=t===e.length-1?0:t+1;this.stage.emit(e[o].stageId)}registerKeyboardListener(){this.subSink.add(Ke.getKeyboardEvent(["."]).pipe(X(()=>!this.modalService.anyDialogOpened$$.value)).subscribe(()=>{this.nextStage()}))}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["app-phases-section"]],inputs:{phasesConfig:"phasesConfig",activeStage:"activeStage"},outputs:{stage:"stage"},standalone:!0,features:[w],decls:8,vars:3,consts:[[1,"buttons-container"],["mat-flat-button","","color","primary","appNonFocusable","",3,"click"],[1,"phases-container"],[1,"phase-container"],[1,"phase-label","font-20-700"],[1,"stages-container"],[1,"stage",3,"active"],[1,"stage"],[1,"arrow","font-16"],[1,"stage-label","font-16"]],template:function(t,o){t&1&&(l(0,"div",0)(1,"button",1),y("click",function(){return o.nextStage()}),l(2,"span"),d(3),c(4,"translate"),s()()(),l(5,"div",2),F(6,io,7,3,"div",3,eo),s()),t&2&&(r(3),h(p(4,1,"tk.phases.button.next-stage")),r(3),B(o.phasesConfig))},dependencies:[O,A,V,G],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-20);padding:var(--sizing-20) var(--sizing-10);width:100%}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .phases-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-20);overflow:auto;flex:1 1 0;height:0;padding:var(--sizing-10)}[_nghost-%COMP%]   .phases-container[_ngcontent-%COMP%]   .phase-label[_ngcontent-%COMP%]{align-self:center;margin-bottom:var(--sizing-10)}[_nghost-%COMP%]   .phases-container[_ngcontent-%COMP%]   .stages-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-10)}[_nghost-%COMP%]   .phases-container[_ngcontent-%COMP%]   .stages-container[_ngcontent-%COMP%]   .stage[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .phases-container[_ngcontent-%COMP%]   .stages-container[_ngcontent-%COMP%]   .stage.active[_ngcontent-%COMP%]{font-weight:600;color:var(--phases-stage-active-color)}[_nghost-%COMP%]   .phases-container[_ngcontent-%COMP%]   .stages-container[_ngcontent-%COMP%]   .stage.active[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .phases-container[_ngcontent-%COMP%]   .stages-container[_ngcontent-%COMP%]   .stage[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{padding:0 var(--sizing-5);visibility:hidden}"],changeDetection:0});let i=n;return i})();var oo=1e3,vt=60,Ot=10,Rt=2,bt=(()=>{let n=class n{transform(e){let t=Math.floor(Math.abs(e)/oo),o=Math.floor(t/vt),m=Math.floor(o/vt);return t=t%vt,o=o%vt,`${m.toString(Ot).padStart(Rt,"0")}:${o.toString(Ot).padStart(Rt,"0")}:${t.toString(Ot).padStart(Rt,"0")}`}};n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=H({name:"msToDuration",type:n,pure:!0,standalone:!0});let i=n;return i})();var ao=(i,n)=>n.num;function ro(i,n){i&1&&T(0,"mat-icon",8)}function so(i,n){if(i&1&&(l(0,"div"),d(1),c(2,"msToDuration"),s()),i&2){let a=g().$implicit;r(),h(p(2,1,a.timeUsedMs))}}function lo(i,n){if(i&1){let a=P();l(0,"button",4),y("click",function(){let t=k(a).$implicit,o=g();return x(o.setSelectedPlayer(t))}),l(1,"div",5)(2,"span",6),d(3),s(),l(4,"span",7),d(5),s(),M(6,ro,1,0,"mat-icon",8),s(),M(7,so,3,3,"div"),s()}if(i&2){let a,e=n.$implicit,t=g(),o=oe(3);ee("timer-active",((a=t.timer().player)==null?null:a.num)===e.num)("timer-enabled",t.timerEnabled)("player-dead",e.dead),_("matMenuTriggerFor",o),r(3),v("(",e.num,")"),r(),ee("strike",e.dead),r(),h(e.name),r(),b(6,e.dead?6:-1),r(),b(7,t.timerEnabled?7:-1)}}function mo(i,n){if(i&1){let a=P();l(0,"button",3),y("click",function(){k(a);let t=g();return x(t.onToggleTimerFromMenu())}),d(1),s()}if(i&2){let a,e=g();_("disabled",!!((a=e.selectedPlayer())!=null&&a.dead)),r(),v(" ",e.getTimerActionLabel(e.selectedPlayer())," ")}}var Dn=1e3,An=(()=>{let n=class n{constructor(){this.players=[],this.timerEnabled=!1,this.playerTimeChanged=new j,this.playerDeath=new j,this.playersData=R([]),this.timer=R({}),this.selectedPlayer=R(void 0),this.modalService=new ge,this.subSink=new ne}ngOnInit(){this.playersData.set(this.players.map(e=>I({},e))),this.timerEnabled&&this.registerKeyboardListener()}ngOnDestroy(){clearInterval(this.timer().intervalRef),this.subSink.unsubscribe()}togglePlayerTimer(e){if(!this.timerEnabled)return;let t=this.playersData().find(o=>o.num===e);if(t){if(t.dead)return;let o=this.timer();o.intervalRef?t.num!==o.player?.num?(this.stopTimer(),this.startTimer(t)):this.stopTimer():this.startTimer(t)}}setSelectedPlayer(e){this.selectedPlayer.set(e)}onToggleTimerFromMenu(){let e=this.selectedPlayer();e&&this.togglePlayerTimer(e.num)}onMarkDeadFromMenu(){let e=this.selectedPlayer();e&&!e.dead&&(e.dead=!0,this.playersData.update(t=>t.map(o=>o.num===e.num?K(I({},o),{dead:!0}):o)),this.timer().player?.num===e.num&&this.timer().intervalRef&&this.stopTimer(),this.playerDeath.emit(e))}getTimerActionLabel(e){return!!(this.timer().intervalRef&&this.timer().player?.num===e.num)?"\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C \u0442\u0430\u0439\u043C\u0435\u0440":"\u0417\u0430\u043F\u0443\u0441\u0442\u0438\u0442\u044C \u0442\u0430\u0439\u043C\u0435\u0440"}startTimer(e){this.timer.set({player:e,intervalRef:setInterval(()=>{this.modalService.anyDialogOpened$$.value||(e.timeUsedMs=e.timeUsedMs+Dn,this.playersData.update(t=>[...t]),this.playerTimeChanged.emit(this.playersData()))},Dn)})}stopTimer(){clearInterval(this.timer().intervalRef),this.timer.set({})}registerKeyboardListener(){let e=this.timerEnabled?this.players.map(t=>`${t.num}`):[];this.subSink.add(Ke.getKeyboardEvent(e).subscribe(t=>{this.togglePlayerTimer(Number.parseInt(t.key,10))}))}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["app-players-section"]],inputs:{players:"players",timerEnabled:"timerEnabled"},outputs:{playerTimeChanged:"playerTimeChanged",playerDeath:"playerDeath"},standalone:!0,features:[w],decls:7,vars:2,consts:[["playerMenu","matMenu"],["mat-flat-button","","color","primary",3,"timer-active","timer-enabled","player-dead","matMenuTriggerFor"],["mat-menu-item","",3,"disabled"],["mat-menu-item","",3,"click","disabled"],["mat-flat-button","","color","primary",3,"click","matMenuTriggerFor"],[1,"player-line"],[1,"player-num"],[1,"player-name"],["svgIcon","skull","aria-label","dead",1,"medium-icon","dead-icon"]],template:function(t,o){if(t&1){let m=P();F(0,lo,8,13,"button",1,ao),l(2,"mat-menu",null,0),M(4,mo,2,2,"button",2),l(5,"button",3),y("click",function(){return k(m),x(o.onMarkDeadFromMenu())}),d(6," \u041E\u0442\u043C\u0435\u0442\u0438\u0442\u044C \u043F\u0435\u0440\u0441\u043E\u043D\u0430\u0436\u0430 \u043F\u043E\u0433\u0438\u0431\u0448\u0438\u043C "),s()()}if(t&2){let m;B(o.playersData()),r(4),b(4,o.timerEnabled?4:-1),r(),_("disabled",!!((m=o.selectedPlayer())!=null&&m.dead))}},dependencies:[V,ue,Z,te,_e,bt],styles:[".strike[_ngcontent-%COMP%]{text-decoration:line-through}.dead-icon[_ngcontent-%COMP%]{margin-left:6px}.player-dead[_ngcontent-%COMP%]{opacity:.75}[_nghost-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));padding:var(--sizing-20);gap:var(--sizing-20)}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{flex:1;min-width:140px;min-height:40px;padding:var(--sizing-5);cursor:default}[_nghost-%COMP%]   button.timer-enabled[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   button.timer-active[_ngcontent-%COMP%]{background:var(--players-timer-active)}[_nghost-%COMP%]   button[_ngcontent-%COMP%]   .player-line[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;max-width:calc(140px - 2 * var(--sizing-5))}[_nghost-%COMP%]   button[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}"],changeDetection:0});let i=n;return i})();function co(i,n){if(i&1&&(l(0,"div",0),d(1),c(2,"translate"),s(),l(3,"div",1),T(4,"p",2),c(5,"translate"),s()),i&2){let a=g();r(),h(p(2,2,a.summary.name)),r(3),_("innerHtml",p(5,4,a.summary.content),q)}}var Fn=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["app-summary-section"]],inputs:{summary:"summary"},standalone:!0,features:[w],decls:1,vars:1,consts:[[1,"title","font-20-700"],[1,"content","guidebook-styles"],[3,"innerHtml"]],template:function(t,o){t&1&&M(0,co,6,6),t&2&&b(0,o.summary?0:-1)},dependencies:[O,A],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;padding:var(--sizing-20) var(--sizing-10);gap:var(--sizing-20);width:100%}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{align-self:center;text-align:center}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto;flex:1 1 0;height:0;padding:var(--sizing-10)}"],changeDetection:0});let i=n;return i})();var po=["*"];function uo(i,n){if(i&1&&(l(0,"div")(1,"span",0),d(2),c(3,"translate"),s()()),i&2){let a=g();r(2),h(p(3,1,a.label))}}var Bn=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["app-section-wrapper"]],inputs:{label:"label"},standalone:!0,features:[w],ngContentSelectors:po,decls:2,vars:1,consts:[[1,"font-16-600"]],template:function(t,o){t&1&&(Ge(),M(0,uo,4,3,"div"),Ee(1)),t&2&&b(0,o.label?0:-1)},dependencies:[O,A],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block;border:2px solid var(--sections-color);border-radius:8px;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:-10px;display:flex;justify-content:center;width:100%}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--sections-color);background:var(--sections-bg-color);padding:0 var(--sizing-10)}"],changeDetection:0});let i=n;return i})();var Nn=(()=>{let n=class n{transform(e,t){return!!e&&e.state==="red"&&e.roundNum>t}};n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=H({name:"autodestructionDisableRound",type:n,pure:!0,standalone:!0});let i=n;return i})();function go(i,n){if(i&1&&(l(0,"div",1)(1,"div",4),d(2,"\u2622"),s()()),i&2){let a=g(2);r(),_("ngClass",a.autodestruction.state)}}function ho(i,n){i&1&&(l(0,"div",2),T(1,"mat-icon",5),s())}function fo(i,n){if(i&1&&(M(0,go,3,1,"div",1)(1,ho,2,0,"div",2),l(2,"div",0)(3,"div",3),c(4,"autodestructionDisableRound"),l(5,"div"),d(6),c(7,"autodestructionDisableRound"),s()()()),i&2){let a=g();b(0,a.autodestruction&&a.autodestruction.roundNum===a.roundConfig.num?0:-1),r(),b(1,a.monsterEncounterHappenedRoundNum===a.roundConfig.num?1:-1),r(2),ee("active-round",a.activeRoundNum===a.roundConfig.num)("hibernation",a.roundConfig.num<=a.hibernationRoundNum)("end-round",a.roundConfig.num===a.endRoundNum)("disabled",a.roundConfig.num<a.endRoundNum||L(4,11,a.autodestruction,a.roundConfig.num)),r(3),h(a.roundConfig.num===a.endRoundNum?"S":a.roundConfig.num<a.endRoundNum||L(7,14,a.autodestruction,a.roundConfig.num)?"X":a.roundConfig.num)}}var Ln=(()=>{let n=class n{constructor(){this.endRoundNum=0,this.hibernationRoundNum=0}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["app-nog-round-item"]],inputs:{roundConfig:"roundConfig",activeRoundNum:"activeRoundNum",endRoundNum:"endRoundNum",autodestruction:"autodestruction",hibernationRoundNum:"hibernationRoundNum",monsterEncounterHappenedRoundNum:"monsterEncounterHappenedRoundNum"},standalone:!0,features:[w],decls:1,vars:1,consts:[[1,"round-slot"],[1,"autodestruction"],[1,"first-encounter"],[1,"round","font-16-600"],[3,"ngClass"],["svgIcon","swords"]],template:function(t,o){t&1&&M(0,fo,8,17,"div",0),t&2&&b(0,o.roundConfig?0:-1)},dependencies:[O,pe,Nn,ue],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .autodestruction[_ngcontent-%COMP%]{position:relative;width:0;height:0;z-index:5}[_nghost-%COMP%]   .autodestruction[_ngcontent-%COMP%]   .yellow[_ngcontent-%COMP%]{color:var(--autodestruction-active-color)}[_nghost-%COMP%]   .autodestruction[_ngcontent-%COMP%]   .red[_ngcontent-%COMP%]{color:var(--autodestruction-inevitable-color)}[_nghost-%COMP%]   .autodestruction[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;left:16px;top:-8px;font-size:24px;background:var(--autodestruction-background-color);border-radius:50%}[_nghost-%COMP%]   .first-encounter[_ngcontent-%COMP%]{position:relative;width:0;height:0;z-index:5;left:15px;bottom:-30px;color:var(--monster-first-encounter-icon-color)}[_nghost-%COMP%]   .round-slot[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0 var(--sizing-5)}[_nghost-%COMP%]   .round[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:40px;height:40px;border:solid 2px var(--round-border-color);border-radius:10%}[_nghost-%COMP%]   .round.hibernation[_ngcontent-%COMP%]{border-color:var(--nog-round-border-color)}[_nghost-%COMP%]   .round.end-round[_ngcontent-%COMP%]{transform:rotate(90deg);color:var(--round-end-indicator-color)}[_nghost-%COMP%]   .round.disabled[_ngcontent-%COMP%]{background:var(--round-disabled-color)}[_nghost-%COMP%]   .round[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .round.active-round[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:var(--nog-round-active-color);border-radius:50%}"],changeDetection:0});let i=n;return i})();var _o=(i,n)=>n.num;function vo(i,n){if(i&1&&T(0,"app-nog-round-item",1),i&2){let a=n.$implicit,e=g();_("roundConfig",a)("activeRoundNum",e.activeRoundNum)("endRoundNum",e.endRoundNum)("autodestruction",e.autodestruction)("monsterEncounterHappenedRoundNum",e.monsterEncounterHappenedRoundNum)("hibernationRoundNum",e.hibernationRoundNum)}}function bo(i,n){if(i&1){let a=P();l(0,"button",5),y("click",function(){k(a);let t=g();return x(t.monsterEncounter.emit())}),d(1),c(2,"translate"),s()}if(i&2){let a=g();_("disabled",a.monsterEncounterHappenedRoundNum!==void 0),r(),v(" ",p(2,2,"tk.nog.round.label.event.first-encounter")," ")}}function Mo(i,n){if(i&1){let a=P();l(0,"button",5),y("click",function(){k(a);let t=g();return x(t.onRoundTrackerEvent("autodestruction_stop"))}),d(1),c(2,"translate"),s()}if(i&2){let a=g();_("disabled",a.autodestruction.state==="red"),r(),v(" ",p(2,2,"tk.nog.round.label.event.autodestruction.stop")," ")}}function yo(i,n){if(i&1){let a=P();l(0,"button",4),y("click",function(){k(a);let t=g();return x(t.onRoundTrackerEvent("autodestruction_start"))}),d(1),c(2,"translate"),s()}i&2&&(r(),v(" ",p(2,1,"tk.nog.round.label.event.autodestruction.start")," "))}var Kn=(()=>{let n=class n{constructor(){this.rounds=[],this.endRoundNum=0,this.hibernationRoundNum=0,this.enableMonsterEncounterAction=!1,this.roundTrackerEvent=new j,this.monsterEncounter=new j,this.modalService=C(ge)}onRoundTrackerEvent(e){switch(e){case"end_the_game":this.modalService.openConfirmation({titleKey:"tk.round.label.event.end-the-game.warning-title",messageKey:"tk.round.label.event.end-the-game.warning-message"}).subscribe(t=>{t&&this.roundTrackerEvent.emit(e)});break;default:this.roundTrackerEvent.emit(e)}}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["app-nog-round-tracker-section"]],inputs:{rounds:"rounds",activeRoundNum:"activeRoundNum",endRoundNum:"endRoundNum",autodestruction:"autodestruction",hibernationRoundNum:"hibernationRoundNum",enableMonsterEncounterAction:"enableMonsterEncounterAction",monsterEncounterHappenedRoundNum:"monsterEncounterHappenedRoundNum"},outputs:{roundTrackerEvent:"roundTrackerEvent",monsterEncounter:"monsterEncounter"},standalone:!0,features:[w],decls:15,vars:9,consts:[["tokenMenu","matMenu"],[3,"roundConfig","activeRoundNum","endRoundNum","autodestruction","monsterEncounterHappenedRoundNum","hibernationRoundNum"],["mat-flat-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"disabled"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click","disabled"]],template:function(t,o){if(t&1){let m=P();l(0,"div"),F(1,vo,1,6,"app-nog-round-item",1,_o),l(3,"button",2)(4,"span"),d(5),c(6,"translate"),s()(),l(7,"mat-menu",null,0),M(9,bo,3,4,"button",3)(10,Mo,3,4,"button",3)(11,yo,3,3),l(12,"button",4),y("click",function(){return k(m),x(o.onRoundTrackerEvent("end_the_game"))}),d(13),c(14,"translate"),s()()()}if(t&2){let m=oe(8);r(),B(o.rounds),r(2),_("matMenuTriggerFor",m),r(2),h(p(6,5,"tk.round.button.actions")),r(4),b(9,o.enableMonsterEncounterAction?9:-1),r(),b(10,o.autodestruction?10:11),r(3),v(" ",p(14,7,"tk.round.label.event.end-the-game.trigger")," ")}},dependencies:[Ln,_e,Z,te,V,O,A],styles:["[_nghost-%COMP%]{overflow:auto;width:100%;height:100%}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;padding:var(--sizing-20);min-width:868px}[_nghost-%COMP%]   app-nog-round-item[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{max-height:44px;height:44px;min-width:44px;min-height:44px;margin-left:var(--sizing-20)}"],changeDetection:0});let i=n;return i})();var zn=(()=>{let n=class n{constructor(){this.availableMonstersWritable=R([]),this.bagMonstersWritable=R([]),this.activeMonstersWritable=R([]),this.availableMonsters=this.availableMonstersWritable.asReadonly(),this.bagMonsters=this.bagMonstersWritable.asReadonly(),this.activeMonsters=this.activeMonstersWritable.asReadonly()}initMonsters(e,t,o){let m=[...this.generateMonsterTypeArray(e,f.BLANK),...this.generateMonsterTypeArray(e,f.LARVA),...this.generateMonsterTypeArray(e,f.CREEPER),...this.generateMonsterTypeArray(e,f.ADULT,o),...this.generateMonsterTypeArray(e,f.BREEDER),...this.generateMonsterTypeArray(e,f.QUEEN)],u=[];m.forEach(E=>{let z=t.findIndex(Q=>Q.type===E);z!==-1&&(u.push(t[z]),t.splice(z,1))}),this.availableMonstersWritable.set(this.shuffle(t)),this.bagMonstersWritable.set(this.shuffle(u)),this.activeMonstersWritable.set([])}loadBags(e){this.availableMonstersWritable.set(this.shuffle(e.availableMonsters)),this.bagMonstersWritable.set(this.shuffle(e.bagMonsters)),this.activeMonstersWritable.set(e.activeMonsters)}addMonsterToBag(e){return this.transferMonster("available","bag",t=>t.type===e)}getMonsterEncounterFromBag(e){let t=this.bagMonstersWritable();if(t.length<1)return;if(e!==null)return this.transferMonster("bag","active",u=>u.type===e);let o=0,m=t[o];return m.type==="BLANK"?(t.length===1&&this.transferMonster("available","bag",u=>u.type===f.ADULT),this.bagMonstersWritable.update(u=>this.shuffle(u)),m):(this.activeMonstersWritable.update(u=>[...u,m]),this.bagMonstersWritable.update(u=>(u.splice(o,1),this.shuffle(u))),m)}triggerMonsterDevelopment(){let t=this.getSignal("bag")()[0];switch(t.type){case f.BLANK:return{token:t,success:this.triggerBlankDevelopment()};case f.LARVA:return{token:t,success:this.triggerLarvaDevelopment(t.id)};case f.CREEPER:return{token:t,success:this.triggerCreeperDevelopment(t.id)};case f.ADULT:case f.BREEDER:case f.QUEEN:return this.bagMonstersWritable.update(o=>this.shuffle(o)),{token:t,success:!0};default:return{token:t,success:!1}}}killMonster(e){return this.transferMonster("active","available",t=>t.id===e)}putMonsterBackToBag(e){return this.transferMonster("active","bag",t=>t.id===e)}summonQueenInNest(){return this.transferMonster("bag","active",e=>e.type===f.QUEEN)}triggerBlankDevelopment(){return!!this.transferMonster("available","bag",e=>e.type===f.ADULT)}triggerLarvaDevelopment(e){return this.transferMonster("available","bag",t=>t.type===f.ADULT)?(this.transferMonster("bag","available",t=>t.id===e),!0):!1}triggerCreeperDevelopment(e){return this.transferMonster("available","bag",t=>t.type===f.BREEDER)?(this.transferMonster("bag","available",t=>t.id===e),!0):!1}generateMonsterTypeArray(e,t,o=0){let m=e[t]+o;return Array.from({length:m},()=>t)}transferMonster(e,t,o){let m=this.getSignal(e),u=this.getSignal(t),E=m(),z=o?E.findIndex(o):0,Q=E[z];if(Q)return u.update(Y=>this.shuffleArrayIfCertainType([...Y,E[z]],t)),m.update(Y=>(Y.splice(z,1),this.shuffleArrayIfCertainType([...Y],e))),Q}getSignal(e){switch(e){case"available":return this.availableMonstersWritable;case"bag":return this.bagMonstersWritable;case"active":return this.activeMonstersWritable;default:return this.availableMonstersWritable}}shuffleArrayIfCertainType(e,t){return t==="bag"||t==="available"?this.shuffle(e):e}shuffle(e){return Cn.multipleShuffle(e,3)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Ye=new ie("GameIdToken");var Dt=(i,n)=>typeof i=="number"?i:n;var jn=Object.freeze({Q:Object.freeze({labelKey:"tk.nog.config.label.monster-development.queen",successResultKey:"tk.nog.config.label.monster-development.queen.success",failureResultKey:"tk.nog.config.label.monster-development.queen.failure"}),B:Object.freeze({labelKey:"tk.nog.config.label.monster-development.breeder",successResultKey:"tk.nog.config.label.monster-development.breeder.success",failureResultKey:"tk.nog.config.label.monster-development.breeder.failure"}),A:Object.freeze({labelKey:"tk.nog.config.label.monster-development.adult",successResultKey:"tk.nog.config.label.monster-development.adult.success",failureResultKey:"tk.nog.config.label.monster-development.adult.failure"}),C:Object.freeze({labelKey:"tk.nog.config.label.monster-development.creeper",successResultKey:"tk.nog.config.label.monster-development.creeper.success",failureResultKey:"tk.nog.config.label.monster-development.creeper.failure"}),L:Object.freeze({labelKey:"tk.nog.config.label.monster-development.larva",successResultKey:"tk.nog.config.label.monster-development.larva.success",failureResultKey:"tk.nog.config.label.monster-development.larva.failure"}),BLANK:Object.freeze({labelKey:"tk.nog.config.label.monster-development.blank",successResultKey:"tk.nog.config.label.monster-development.blank.success",failureResultKey:"tk.nog.config.label.monster-development.blank.failure"})}),Vn=Object.freeze({Q:1,B:0,A:3,C:1,L:4,BLANK:1}),Co=[{id:"Q1",type:f.QUEEN,surprise:4},{id:"B1",type:f.BREEDER,surprise:3},{id:"B2",type:f.BREEDER,surprise:4},{id:"A1",type:f.ADULT,surprise:2},{id:"A2",type:f.ADULT,surprise:2},{id:"A3",type:f.ADULT,surprise:2},{id:"A4",type:f.ADULT,surprise:2},{id:"A5",type:f.ADULT,surprise:3},{id:"A6",type:f.ADULT,surprise:3},{id:"A7",type:f.ADULT,surprise:3},{id:"A8",type:f.ADULT,surprise:3},{id:"A9",type:f.ADULT,surprise:3},{id:"A10",type:f.ADULT,surprise:4},{id:"A11",type:f.ADULT,surprise:4},{id:"A12",type:f.ADULT,surprise:4},{id:"C1",type:f.CREEPER,surprise:1},{id:"C2",type:f.CREEPER,surprise:1},{id:"C3",type:f.CREEPER,surprise:1},{id:"L1",type:f.LARVA,surprise:1},{id:"L2",type:f.LARVA,surprise:1},{id:"L3",type:f.LARVA,surprise:1},{id:"L4",type:f.LARVA,surprise:1},{id:"L5",type:f.LARVA,surprise:1},{id:"L6",type:f.LARVA,surprise:1},{id:"L7",type:f.LARVA,surprise:1},{id:"L8",type:f.LARVA,surprise:1},{id:"BLANK1",type:f.BLANK,surprise:0}],Hn=()=>Co.map(i=>I({},i));var $n=Object.freeze({draw_cards:{name:"tk.nog.config.label.phase1.stage1.draw-cards",content:"tk.nog.config.label.phase1.stage1.content"},first_player_transfer:{name:"tk.nog.config.label.phase1.stage2.first-player-transfer",content:"tk.nog.config.label.phase1.stage2.content"},player_actions:{name:"tk.nog.config.label.phase1.stage3.player-actions",content:"tk.nog.config.label.phase1.stage3.content"},remaining_player_actions:{name:"tk.nog.config.label.phase1.stage4.remaining-player-actions",content:"tk.nog.config.label.phase1.stage4.content"},round_tracker_update:{name:"tk.nog.config.label.phase2.stage5.round-tracker-update",content:"tk.nog.config.label.phase2.stage5.content"},monster_attack:{name:"tk.nog.config.label.phase2.stage6.monster-attack",content:"tk.nog.config.label.phase2.stage6.content"},monster_fire_damage:{name:"tk.nog.config.label.phase2.stage7.monster-fire-damage",content:"tk.nog.config.label.phase2.stage7.content"},resolve_event_card:{name:"tk.nog.config.label.phase2.stage8.resolve-event-card",content:"tk.nog.config.label.phase2.stage8.content"},monster_development:{name:"tk.nog.config.label.phase2.stage9.monster-development",content:"tk.nog.config.label.phase2.stage9.content"}}),ko=[{id:"P1",labelKey:"tk.nog.config.label.phase1",stages:[{labelKey:"tk.nog.config.label.phase1.stage1.draw-cards",stageId:"draw_cards"},{labelKey:"tk.nog.config.label.phase1.stage2.first-player-transfer",stageId:"first_player_transfer"},{labelKey:"tk.nog.config.label.phase1.stage3.player-actions",stageId:"player_actions"},{labelKey:"tk.nog.config.label.phase1.stage4.remaining-player-actions",stageId:"remaining_player_actions"}]},{id:"P2",labelKey:"tk.nog.config.label.phase2",stages:[{labelKey:"tk.nog.config.label.phase2.stage5.round-tracker-update",stageId:"round_tracker_update"},{labelKey:"tk.nog.config.label.phase2.stage6.monster-attack",stageId:"monster_attack"},{labelKey:"tk.nog.config.label.phase2.stage7.monster-fire-damage",stageId:"monster_fire_damage"},{labelKey:"tk.nog.config.label.phase2.stage8.resolve-event-card",stageId:"resolve_event_card"},{labelKey:"tk.nog.config.label.phase2.stage9.monster-development",stageId:"monster_development"}]}],Gn=()=>ko.map(i=>I({},i));var xo=[{num:15},{num:14},{num:13},{num:12},{num:11},{num:10},{num:9},{num:8},{num:7},{num:6},{num:5},{num:4},{num:3},{num:2},{num:1},{num:0}],Un=()=>xo.map(i=>I({},i));var yt="\u0418\u0413\u0420\u0410 \u0421\u041E\u0425\u0420\u0410\u041D\u0415\u041D\u0410!",Mt=class{constructor(){this.logsSignal=R([]),this.logs=this.logsSignal.asReadonly()}init(n,a){this.logsSignal.set(n),this.roundNumFn=a}clear(){this.logsSignal.set([])}addRecord(n,a){let e={dateIso:new Date().toISOString(),text:n,type:a,roundNum:this.getRoundNum()};this.logsSignal.update(t=>[...t,e])}getRoundNum(){return this.roundNumFn?`${this.roundNumFn()}`:"?"}};var At=(()=>{let n=class n{constructor(){this.logger=new Mt,this.logs=this.logger.logs}init(e,t){this.logger.init(e,t)}logMonsterDevelopment(e){this.logger.addRecord(`\u0420\u0430\u0437\u0432\u0438\u0442\u0438\u0435 \u043C\u043E\u043D\u0441\u0442\u0440\u0430: ${e.success?"\u0443\u0441\u043F\u0435\u0445":"\u043D\u0435\u0443\u0434\u0430\u0447\u0430"} (${e.token.id})`,"monster")}logMonsterEncounter(e){this.logger.addRecord(`\u0412\u0441\u0442\u0440\u0435\u0447\u0430 \u0441 \u043C\u043E\u043D\u0441\u0442\u0440\u043E\u043C (${e.id})`,"monster")}logMonsterAdd(e){this.logger.addRecord(`\u041F\u043E\u044F\u0432\u043B\u0435\u043D\u0438\u0435 \u043C\u043E\u043D\u0441\u0442\u0440\u0430 (${e.id})`,"monster")}logMonsterKill(e){this.logger.addRecord(`\u041C\u043E\u043D\u0441\u0442\u0440 \u0443\u043D\u0438\u0447\u0442\u043E\u0436\u0435\u043D (${e.id})`,"monster")}logMonsterRetreat(e){this.logger.addRecord(`\u041C\u043E\u043D\u0441\u0442\u0440 \u043E\u0442\u0441\u0442\u0443\u043F\u0438\u043B (${e.id})`,"monster")}logAutodestructionStateChange(e,t){this.logger.addRecord(`\u0421\u0430\u043C\u043E\u0443\u043D\u0438\u0447\u0442\u043E\u0436\u0435\u043D\u0438\u0435: \u0441\u043C\u0435\u043D\u0430 \u0441\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u044F (${e||"\u0432\u044B\u043A\u043B\u044E\u0447\u0435\u043D\u043E"} => ${t||"\u0432\u044B\u043A\u043B\u044E\u0447\u0435\u043D\u043E"})`,"tracker")}logRoundChange(e){this.logger.addRecord(`\u0421\u043C\u0435\u043D\u0430 \u0440\u0430\u0443\u043D\u0434\u0430 (${this.logger.getRoundNum()} => ${e})`,"event")}logSaveGameState(){this.logger.addRecord(yt,"event")}logAutodestructionStateInevitable(){this.logger.addRecord("\u0421\u0430\u043C\u043E\u0443\u043D\u0438\u0447\u0442\u043E\u0436\u0435\u043D\u0438\u0435: \u0441\u0442\u0430\u0434\u0438\u044F \u041D\u0415\u0418\u0417\u0411\u0415\u0416\u041D\u0410!","event")}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=me({token:n,factory:n.\u0275fac});let i=n;return i})();var se=(()=>{let n=class n{transform(e,t){return e.replace("id_short",kn[t].idShort)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=H({name:"gameIdTk",type:n,pure:!0,standalone:!0});let i=n;return i})();function So(i,n){i&1&&(l(0,"span"),d(1,"\u2022"),s())}function To(i,n){if(i&1){let a=P();l(0,"span",8),y("click",function(){let t=k(a).$index,o=g();return x(o.scrollInto(t))}),d(1),c(2,"translate"),s(),M(3,So,2,0,"span")}if(i&2){let a=n.$implicit,e=n.$index,t=n.$count;r(),h(p(2,2,a.name)),r(2),b(3,e!==t-1?3:-1)}}function wo(i,n){i&1&&(l(0,"li"),T(1,"p",10),s()),i&2&&(r(),_("innerHtml",n,q))}function Io(i,n){if(i&1&&(M(0,wo,2,1,"li"),c(1,"translate")),i&2){let a,e=n.$implicit;b(0,(a=p(1,1,e))?0:-1,a)}}function Po(i,n){if(i&1&&(l(0,"div",9),d(1),s(),l(2,"ol"),F(3,Io,2,3,null,null,le),s()),i&2){let a=g(),e=a.$implicit,t=a.$index;_("id","group"+t),r(),v(" ",n," "),r(2),B(e.items)}}function Eo(i,n){if(i&1&&(M(0,Po,5,2),c(1,"translate")),i&2){let a,e=n.$implicit;b(0,(a=p(1,1,e.name))?0:-1,a)}}var Wn=(()=>{let n=class n{scrollInto(e){document.querySelector(`#group${e}`)?.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}constructor(){this.data=C($),this.searchControl=new fe("",{nonNullable:!0}),this.originalData=this.data.faqGroups,this.filteredGroups=R(this.originalData),this.translate=C(Oe),this.searchControl.valueChanges.pipe(Je(200)).subscribe(e=>{let t=e.toLowerCase().trim(),o=this.originalData.map(m=>K(I({},m),{items:m.items.filter(u=>{let E=this.translate.instant(u);return t===""||E.toLowerCase().includes(t)})})).filter(m=>m.items.length>0);this.filteredGroups.set(o)})}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["app-faq-modal"]],standalone:!0,features:[w],decls:18,vars:10,consts:[[1,"modal-wrapper"],[1,"modal-header"],[1,"group-links","font-20-600"],[1,"search-wrapper"],[1,"search-inner"],["appearance","outline","subscriptSizing","dynamic"],["type","text","matInput","",3,"formControl"],[1,"modal-content","guidebook-styles"],[1,"group-link",3,"click"],[1,"group-label",3,"id"],[3,"innerHtml"]],template:function(t,o){t&1&&(l(0,"div",0)(1,"div",1),d(2),c(3,"gameIdTk"),c(4,"translate"),s(),l(5,"div",2),F(6,To,4,4,null,null,le),s(),l(8,"div",3)(9,"div",4)(10,"mat-form-field",5)(11,"mat-label"),d(12),c(13,"translate"),s(),T(14,"input",6),s()()(),l(15,"div",7),F(16,Eo,2,3,null,null,le),s()()),t&2&&(r(2),h(p(4,6,L(3,3,"tk.id_short.faq-modal.title",o.data.gameId))),r(4),B(o.filteredGroups()),r(6),h(p(13,8,"tk.faq-modal.label.find-rules")),r(2),_("formControl",o.searchControl),r(2),B(o.filteredGroups()))},dependencies:[O,A,se,Fe,ct,he,Be,dt,gt,ht,ut],styles:[".group-links[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:var(--sizing-10);padding:0 var(--sizing-20);margin:var(--sizing-10) 0;color:var(--primary-color-500)}.group-links[_ngcontent-%COMP%]   .group-link[_ngcontent-%COMP%]{cursor:pointer}.modal-content[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]::marker{font-weight:600}.search-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:var(--sizing-20) 0}.search-wrapper[_ngcontent-%COMP%]   .search-inner[_ngcontent-%COMP%]{width:min(100%,500px)}.search-wrapper[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"],changeDetection:0});let i=n;return i})();function Oo(i,n){if(i&1&&(T(0,"p",3),c(1,"translate")),i&2){let a=n.$implicit;_("innerHtml",p(1,1,a),q)}}var qn=(()=>{let n=class n{constructor(){this.data=C($)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["app-key-moments-modal"]],standalone:!0,features:[w],decls:8,vars:6,consts:[[1,"modal-wrapper"],[1,"modal-header"],[1,"modal-content","guidebook-styles"],[3,"innerHtml"]],template:function(t,o){t&1&&(l(0,"div",0)(1,"div",1),d(2),c(3,"gameIdTk"),c(4,"translate"),s(),l(5,"div",2),F(6,Oo,2,3,"p",3,le),s()()),t&2&&(r(2),h(p(4,4,L(3,1,"tk.id_short.key-moments-modal.title",o.data.gameId))),r(4),B(o.data.keyMoments))},dependencies:[O,A,se],styles:[".modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-20)}"],changeDetection:0});let i=n;return i})();var Ro=(i,n)=>n.dateIso;function Do(i,n){if(i&1&&(l(0,"div",12)(1,"span",14),d(2),c(3,"date"),s(),l(4,"span",15),d(5),s(),l(6,"span",16),d(7),s()()),i&2){let a=n.$implicit;_("ngClass",a.type),r(2),v("[",L(3,4,a.dateIso,"HH:mm:ss"),"]"),r(3),v("(",a.roundNum,"):"),r(2),v(" ",a.text,"")}}function Ao(i,n){i&1&&(l(0,"div",13)(1,"span"),d(2),c(3,"translate"),s()()),i&2&&(r(2),h(p(3,1,"tk.logs-modal.label.empty-logs")))}var Qn=(()=>{let n=class n{constructor(){this.data=C($),this.logs=R(this.data.logs),this.filters=new _n({event:new fe(!0,{nonNullable:!0}),tracker:new fe(!0,{nonNullable:!0}),monster:new fe(!0,{nonNullable:!0})}),this.subSink=new ne}ngOnInit(){this.subSink.add(this.filters.valueChanges.subscribe(e=>{this.logs.set(this.data.logs.filter(t=>e[t.type]))}))}ngOnDestroy(){this.subSink.unsubscribe()}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["app-logs-modal"]],standalone:!0,features:[w],decls:24,vars:17,consts:[[1,"modal-wrapper"],[1,"modal-header"],[1,"filters"],[3,"formGroup"],["formControlName","event","color","primary"],[1,"event"],["formControlName","tracker","color","primary"],[1,"tracker"],["formControlName","monster","color","primary"],[1,"monster"],[1,"modal-content"],[1,"logs"],[1,"log-item",3,"ngClass"],[1,"empty-logs","font-16"],[1,"date"],[1,"round-num"],[1,"text"]],template:function(t,o){t&1&&(l(0,"div",0)(1,"div",1),d(2),c(3,"translate"),s(),l(4,"div",2)(5,"form",3)(6,"mat-checkbox",4)(7,"span",5),d(8),c(9,"translate"),s()(),l(10,"mat-checkbox",6)(11,"span",7),d(12),c(13,"translate"),s()(),l(14,"mat-checkbox",8)(15,"span",9),d(16),c(17,"gameIdTk"),c(18,"translate"),s()()()(),l(19,"div",10)(20,"div",11),F(21,Do,8,7,"div",12,Ro,!1,Ao,4,3,"div",13),s()()()),t&2&&(r(2),h(p(3,6,"tk.logs-modal.title")),r(3),_("formGroup",o.filters),r(3),h(p(9,8,"tk.logs-modal.filter.event-type")),r(4),h(p(13,10,"tk.logs-modal.filter.tracker-type")),r(4),h(p(18,15,L(17,12,"tk.id_short.logs-modal.filter.monster-type",o.data.gameId))),r(5),B(o.logs()))},dependencies:[pe,rt,O,A,pt,Be,bn,he,fn,Mn,yn,se],styles:[".modal-wrapper[_ngcontent-%COMP%]{min-height:400px;height:600px}.filters[_ngcontent-%COMP%]{padding:var(--sizing-20) var(--sizing-20) var(--sizing-5)}.filters[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap}.modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-20)}.modal-content[_ngcontent-%COMP%]   .logs[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-5);padding:0 var(--sizing-10)}.modal-content[_ngcontent-%COMP%]   .logs[_ngcontent-%COMP%]   .empty-logs[_ngcontent-%COMP%]{display:flex;justify-content:center;font-style:italic;color:var(--secondary-text-color)}.monster[_ngcontent-%COMP%]{color:var(--logs-monster-type-color)}.tracker[_ngcontent-%COMP%]{color:var(--logs-tracker-type-color)}.event[_ngcontent-%COMP%]{color:var(--logs-event-type-color)}"],changeDetection:0});let i=n;return i})();var Fo=(i,n)=>n.dateIso,Bo=(i,n)=>({time:i,round:n});function No(i,n){if(i&1&&(l(0,"div",9)(1,"span",11),d(2),c(3,"date"),s(),l(4,"span",12),d(5),s(),l(6,"span",13),d(7),s()()),i&2){let a=n.$implicit;_("ngClass",a.type),r(2),v("[",L(3,4,a.dateIso,"HH:mm:ss"),"]"),r(3),v("(",a.roundNum,"):"),r(2),v(" ",a.text,"")}}function Lo(i,n){i&1&&(l(0,"div",10)(1,"span"),d(2),c(3,"translate"),s()()),i&2&&(r(2),h(p(3,1,"tk.reload-modal.label.empty-logs")))}function Ko(i,n){if(i&1&&(l(0,"div"),d(1),c(2,"date"),c(3,"translate"),s(),l(4,"div",7),d(5),c(6,"translate"),s(),l(7,"div"),d(8),c(9,"translate"),s(),l(10,"div",8),F(11,No,8,7,"div",9,Fo,!1,Lo,4,3,"div",10),s()),i&2){let a=g();r(),h(L(3,7,"tk.reload-modal.label.info",Qt(14,Bo,L(2,4,a.saveGameLog.dateIso,"HH:mm:ss"),a.saveGameLog.roundNum))),r(4),h(p(6,10,"tk.reload-modal.label.cannot-revert")),r(3),h(p(9,12,"tk.reload-modal.label.revert")),r(3),B(a.logs)}}function zo(i,n){i&1&&(l(0,"div"),d(1),c(2,"translate"),s()),i&2&&(r(),h(p(2,1,"tk.reload-modal.label.no-save")))}var Yn=(()=>{let n=class n{constructor(){this.data=C($),this.matDialogRef=C(Ae);let e=[...this.data.logs].reverse(),t=e.findIndex(o=>o.text.includes(yt));this.saveGameLog=e[t]||e[0],this.logs=t>-1?e.slice(0,t):e}closeModal(e){this.matDialogRef.close(e)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["app-reload-modal"]],standalone:!0,features:[w],decls:15,vars:10,consts:[[1,"modal-wrapper"],[1,"modal-header"],[1,"modal-content"],[1,"info"],[1,"modal-actions"],["mat-stroked-button","","color","primary","appNonFocusable","",3,"click"],["mat-flat-button","","color","primary","appNonFocusable","",3,"click"],[1,"important"],[1,"logs"],[1,"log-item",3,"ngClass"],[1,"empty-logs","font-16"],[1,"date"],[1,"round-num"],[1,"text"]],template:function(t,o){t&1&&(l(0,"div",0)(1,"div",1),d(2),c(3,"translate"),s(),l(4,"div",2)(5,"div",3),M(6,Ko,14,17)(7,zo,3,3),s()(),l(8,"div",4)(9,"button",5),y("click",function(){return o.closeModal(!1)}),d(10),c(11,"translate"),s(),l(12,"button",6),y("click",function(){return o.closeModal(!0)}),d(13),c(14,"translate"),s()()()),t&2&&(r(2),h(p(3,4,"tk.reload-modal.title")),r(4),b(6,o.saveGameLog?6:7),r(4),v(" ",p(11,6,"tk.general.label.button.cancel")," "),r(3),v(" ",p(14,8,"tk.general.label.button.load")," "))},dependencies:[V,G,O,A,rt,pe],styles:[".modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-20)}.modal-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-10)}.modal-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .important[_ngcontent-%COMP%]{font-weight:600;color:var(--important-color)}.modal-content[_ngcontent-%COMP%]   .logs[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-5);padding:0 var(--sizing-10)}.modal-content[_ngcontent-%COMP%]   .logs[_ngcontent-%COMP%]   .empty-logs[_ngcontent-%COMP%]{display:flex;justify-content:center;font-style:italic;color:var(--secondary-text-color)}.monster[_ngcontent-%COMP%]{color:var(--logs-monster-type-color)}.tracker[_ngcontent-%COMP%]{color:var(--logs-tracker-type-color)}.event[_ngcontent-%COMP%]{color:var(--logs-event-type-color)}"],changeDetection:0});let i=n;return i})();function jo(i,n){if(i&1&&(l(0,"div",7)(1,"div",8),d(2),s(),T(3,"div",9),s()),i&2){let a=n.$implicit;r(2),h(a.name),r(),_("innerHtml",a.content,q)}}function Vo(i,n){if(i&1&&(l(0,"div",5)(1,"div",6),d(2),s(),F(3,jo,4,2,"div",7,le),s()),i&2){let a=g().$implicit;r(2),h(a.name),r(),B(a.items)}}function Ho(i,n){if(i&1&&M(0,Vo,5,1,"div",5),i&2){let a=n.$implicit;b(0,a.items.length?0:-1)}}var $o=200,Xn=(()=>{let n=class n{constructor(){this.roomData=R([]),this.searchControl=new fe("",{nonNullable:!0}),this.data=C($),this.translateService=C(Oe),this.translatedRoomData=[]}ngOnInit(){this.translatedRoomData=this.data.roomGroups.map(e=>({name:this.translateService.instant(e.name),items:e.items.map(t=>({name:this.translateService.instant(t.name),content:this.translateService.instant(t.content)}))})),this.roomData.set(this.translatedRoomData),this.searchControl.valueChanges.pipe(Je($o)).subscribe(e=>{this.roomData.set(this.translatedRoomData.map(t=>K(I({},t),{items:t.items.filter(o=>e===""||o.name.toLowerCase().includes(e.toLowerCase()))})))})}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["app-rooms-modal"]],standalone:!0,features:[w],decls:10,vars:4,consts:[[1,"modal-wrapper"],[1,"search-bar"],["appearance","outline","subscriptSizing","dynamic"],["type","text","matInput","",3,"formControl"],[1,"modal-content"],[1,"group"],[1,"group-label"],[1,"room"],[1,"room-name","font-20-700"],[1,"room-content","guidebook-styles",3,"innerHtml"]],template:function(t,o){t&1&&(l(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),d(4),c(5,"translate"),s(),T(6,"input",3),s()(),l(7,"div",4),F(8,Ho,1,1,null,null,le),s()()),t&2&&(r(4),h(p(5,2,"tk.rooms-modal.label.find-room")),r(2),_("formControl",o.searchControl),r(2),B(o.roomData()))},dependencies:[O,A,ht,Fe,ct,he,Be,dt,gt,ut],styles:[".modal-wrapper[_ngcontent-%COMP%]{min-height:400px;height:600px}.search-bar[_ngcontent-%COMP%]{margin:var(--sizing-20)}.search-bar[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.modal-content[_ngcontent-%COMP%]{overflow:auto}.modal-content[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{padding-bottom:var(--sizing-20)}.room[_ngcontent-%COMP%]{margin-left:var(--sizing-20);padding-bottom:var(--sizing-20);max-width:800px}.room[_ngcontent-%COMP%]   .room-name[_ngcontent-%COMP%]{color:var(--help-item-name-color);margin-bottom:var(--sizing-10)}"],changeDetection:0});let i=n;return i})();var Zn=(()=>{let n=class n{transform(e,t){let o=e.token.type;return e.success?t[o].successResultKey:t[o].failureResultKey}};n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=H({name:"monsterDevelopmentResultTk",type:n,pure:!0,standalone:!0});let i=n;return i})();var Jn=(()=>{let n=class n{transform(e,t){return t[e].labelKey}};n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=H({name:"monsterDevelopmentTk",type:n,pure:!0,standalone:!0});let i=n;return i})();function Go(i,n){if(i&1){let a=P();l(0,"button",7),y("click",function(){k(a);let t=g(2);return x(t.onClick(!0))}),d(1),c(2,"translate"),s(),l(3,"button",8),y("click",function(){k(a);let t=g(2);return x(t.onClick(!1))}),d(4),c(5,"translate"),s()}i&2&&(r(),v(" ",p(2,2,"tk.monster-development.button.queen.player-in-nest")," "),r(3),v(" ",p(5,4,"tk.monster-development.button.queen.player-not-in-nest")," "))}function Uo(i,n){if(i&1){let a=P();l(0,"button",8),y("click",function(){k(a);let t=g(2);return x(t.onClick(!1))}),d(1),c(2,"translate"),s()}i&2&&(r(),v(" ",p(2,1,"tk.general.label.button.continue")," "))}function Wo(i,n){if(i&1&&(l(0,"div",2)(1,"span",3),d(2),c(3,"monsterDevelopmentTk"),c(4,"translate"),s(),T(5,"app-monster-item",4),l(6,"span",5),d(7),c(8,"monsterDevelopmentResultTk"),c(9,"translate"),s()(),l(10,"div",6),M(11,Go,6,6)(12,Uo,3,3),s()),i&2){let a=n,e=g();r(2),h(p(4,7,L(3,4,a.token.type,e.data.monsterDevelopmentConfig))),r(3),_("monster",a.token),r(2),h(p(9,12,L(8,9,a,e.data.monsterDevelopmentConfig))),r(4),b(11,a.token.type===e.monsterType.QUEEN?11:12)}}var ei=(()=>{let n=class n{constructor(){this.monsterType=f,this.data=C($),this.matDialogRef=C(Ae)}onClick(e){this.matDialogRef.close(e)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["app-monster-development-modal"]],standalone:!0,features:[w],decls:6,vars:7,consts:[[1,"modal-wrapper"],[1,"modal-header"],[1,"modal-content"],[1,"description"],[3,"monster"],[1,"hint"],[1,"modal-actions"],["mat-stroked-button","","color","primary","appNonFocusable","",3,"click"],["mat-flat-button","","color","primary","appNonFocusable","",3,"click"]],template:function(t,o){if(t&1&&(l(0,"div",0)(1,"div",1),d(2),c(3,"gameIdTk"),c(4,"translate"),s(),M(5,Wo,13,14),s()),t&2){let m;r(2),h(p(4,5,L(3,2,"tk.id_short.monster-development.title.development",o.data.gameId))),r(3),b(5,(m=o.data.developmentResult)?5:-1,m)}},dependencies:[O,A,Le,V,G,Jn,Zn,se],styles:[".monster-name[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:600}.modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-20);margin-bottom:var(--sizing-10)}.modal-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-style:italic}.modal-content[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-weight:600;color:var(--important-color)}"],changeDetection:0});let i=n;return i})();var ti=(()=>{let n=class n{transform(e,t){return e.filter(o=>t===o.type).length}};n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=H({name:"monsterCount",type:n,pure:!0,standalone:!0});let i=n;return i})();var qo=(i,n)=>n.buttonKey;function Qo(i,n){if(i&1&&(l(0,"span"),d(1),c(2,"monsterTypeTk"),c(3,"translate"),l(4,"b"),d(5),c(6,"monsterCount"),s(),d(7),s()),i&2){let a=n.$implicit,e=n.$index,t=n.$count,o=g(2).$implicit;r(),v("",p(3,5,p(2,3,a)),": "),r(4),h(L(6,7,o.monsters,a)),r(2),h(e===t-1?"":", ")}}function Yo(i,n){if(i&1&&(l(0,"div",5)(1,"p"),d(2),c(3,"gameIdTk"),c(4,"translate"),s(),l(5,"div"),F(6,Qo,8,10,"span",null,$e),s()()),i&2){let a=g().$implicit,e=g();r(2),it("",p(4,5,L(3,2,a.containerKey,e.data.gameId))," (",a.monsters.length,")"),r(4),B(e.monstersTypes)}}function Xo(i,n){if(i&1){let a=P();l(0,"button",6),y("click",function(){k(a);let t=g().$implicit;return x(t.uncovered.set(!0))}),d(1),c(2,"gameIdTk"),c(3,"translate"),s()}if(i&2){let a=g().$implicit,e=g();r(),v(" ",p(3,4,L(2,1,a.buttonKey,e.data.gameId))," ")}}function Zo(i,n){if(i&1&&M(0,Yo,8,7,"div",5)(1,Xo,4,6),i&2){let a=n.$implicit;b(0,a.uncovered()?0:1)}}var ni=(()=>{let n=class n{constructor(){this.data=C($),this.monstersTypes=_t(),this.summaryConfig=[{buttonKey:"tk.id_short.monster-summary.button.show-active",containerKey:"tk.id_short.monster-summary.label.active-monsters",monsters:this.data.activeMonsters,uncovered:R(!1)},{buttonKey:"tk.id_short.monster-summary.button.show-available",containerKey:"tk.id_short.monster-summary.label.available-monsters",monsters:this.data.availableMonsters,uncovered:R(!1)},{buttonKey:"tk.id_short.monster-summary.button.show-bag",containerKey:"tk.id_short.monster-summary.label.bag-monsters",monsters:this.data.bagMonsters,uncovered:R(!1)}]}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["app-monster-summary-modal"]],standalone:!0,features:[w],decls:12,vars:9,consts:[[1,"modal-wrapper"],[1,"modal-header"],[1,"modal-content"],[1,"modal-actions"],["mat-flat-button","","color","primary","appNonFocusable","","mat-dialog-close",""],[1,"summary"],["mat-stroked-button","","color","primary","appNonFocusable","",3,"click"]],template:function(t,o){t&1&&(l(0,"div",0)(1,"div",1),d(2),c(3,"gameIdTk"),c(4,"translate"),s(),l(5,"div",2),F(6,Zo,2,1,null,null,qo),s(),l(8,"div",3)(9,"button",4),d(10),c(11,"translate"),s()()()),t&2&&(r(2),h(p(4,5,L(3,2,"tk.id_short.monster-summary.title.summary",o.data.gameId))),r(4),B(o.summaryConfig),r(4),v(" ",p(11,7,"tk.general.label.button.close")," "))},dependencies:[V,ve,G,O,A,mt,ti,se],styles:[".modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-40);margin-bottom:var(--sizing-20)}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;min-height:52px}.modal-content[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600}"],changeDetection:0});let i=n;return i})();function Jo(i,n){if(i&1&&T(0,"app-monster-item",6),i&2){let a=g();_("monster",a.data.monster)("showName",!1)("flipped",!0)}}function ea(i,n){i&1&&(l(0,"p",7),d(1),c(2,"translate"),s()),i&2&&(r(),h(p(2,1,"tk.config.label.monster-attack.blank")))}function ta(i,n){if(i&1){let a=P();l(0,"button",11),y("click",function(){k(a);let t=g();return x(t.onClick(!1))}),d(1),c(2,"translate"),s()}if(i&2){let a=g();r(),v(" ",p(2,1,a.data.noButtonKey)," ")}}var Xe=(()=>{let n=class n{constructor(){this.monsterType=f,this.data=C($),this.matDialogRef=C(Ae)}onClick(e){this.matDialogRef.close(e)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["app-monster-warning-modal"]],standalone:!0,features:[w],decls:22,vars:19,consts:[[1,"modal-wrapper"],[1,"modal-header"],[1,"modal-content"],[1,"monster-name"],[1,"monster-tokens"],[3,"monster","showName"],[3,"monster","showName","flipped"],[1,"important"],[1,"modal-actions"],["mat-stroked-button","","color","primary","appNonFocusable",""],["mat-flat-button","","color","primary","appNonFocusable","",3,"click"],["mat-stroked-button","","color","primary","appNonFocusable","",3,"click"]],template:function(t,o){t&1&&(l(0,"div",0)(1,"div",1),d(2),c(3,"translate"),s(),l(4,"div",2)(5,"p"),d(6),c(7,"translate"),s(),l(8,"div",3)(9,"span"),d(10),c(11,"monsterTypeTk"),c(12,"translate"),s()(),l(13,"div",4),T(14,"app-monster-item",5),M(15,Jo,1,3,"app-monster-item",6),s(),M(16,ea,3,3,"p",7),s(),l(17,"div",8),M(18,ta,3,3,"button",9),l(19,"button",10),y("click",function(){return o.onClick(!0)}),d(20),c(21,"translate"),s()()()),t&2&&(r(2),h(p(3,9,o.data.titleKey)),r(4),h(p(7,11,o.data.messageKey)),r(4),h(p(12,15,p(11,13,o.data.monster.type))),r(4),_("monster",o.data.monster)("showName",!1),r(),b(15,o.data.showTokenBack&&o.data.monster.type!==o.monsterType.BLANK?15:-1),r(),b(16,o.data.monster.type===o.monsterType.BLANK?16:-1),r(2),b(18,o.data.noButtonKey?18:-1),r(2),v(" ",p(21,17,o.data.yesButtonKey)," "))},dependencies:[O,A,V,Le,G,ve],styles:[".monster-name[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:600}.monster-tokens[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:var(--sizing-20);margin:var(--sizing-20)}.important[_ngcontent-%COMP%]{font-weight:600;color:var(--important-color)}"],changeDetection:0});let i=n;return i})();var na=(i,n)=>n.num;function ia(i,n){i&1&&(l(0,"p",3),d(1),c(2,"translate"),s()),i&2&&(r(),h(p(2,1,"tk.nog.config.label.game-end.victory-check.autodestruction")))}function oa(i,n){if(i&1&&(l(0,"span",9),d(1),c(2,"msToDuration"),s()),i&2){let a=g().$implicit;r(),h(p(2,1,a.timeUsedMs))}}function aa(i,n){if(i&1&&(l(0,"div")(1,"span",13),d(2),s(),M(3,oa,3,3,"span",9),s()),i&2){let a=n.$implicit,e=g();r(2),it("(",a.num,") ",a.name,""),r(),b(3,e.data.timerEnabled?3:-1)}}var ii=(()=>{let n=class n{constructor(){this.agreeToFinish=!1,this.data=C($),this.gameEndDate=new Date,this.duration=this.gameEndDate.getTime()-new Date(this.data.createdDate).getTime()}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["app-nog-game-end-modal"]],standalone:!0,features:[w],decls:49,vars:45,consts:[[1,"modal-wrapper"],[1,"modal-header"],[1,"modal-content","guidebook-styles"],[1,"p","important"],[1,"p"],[1,"victory-check"],[1,"heading2"],[3,"innerHtml"],[1,"summary"],[1,"duration"],["tabindex","-1",3,"ngModelChange","ngModel"],[1,"modal-actions"],["mat-flat-button","","color","primary","appNonFocusable","","mat-dialog-close","",3,"disabled"],[1,"player-name"]],template:function(t,o){t&1&&(l(0,"div",0)(1,"div",1),d(2),c(3,"translate"),s(),l(4,"div",2)(5,"div"),M(6,ia,3,3,"p",3),l(7,"p",4),d(8),c(9,"translate"),s()(),l(10,"div",5)(11,"p",6),d(12),c(13,"translate"),s(),T(14,"p",7),c(15,"translate"),l(16,"p",6),d(17),c(18,"translate"),s(),T(19,"p",7),c(20,"translate"),l(21,"p",6),d(22),c(23,"translate"),s(),T(24,"p",7),c(25,"translate"),l(26,"p",6),d(27),c(28,"translate"),s(),T(29,"p",7),c(30,"translate"),s(),l(31,"div",8)(32,"div")(33,"p")(34,"span"),d(35),c(36,"translate"),s(),l(37,"span",9),d(38),c(39,"msToDuration"),s()()(),F(40,aa,4,3,"div",null,na),s(),l(42,"mat-checkbox",10),Wt("ngModelChange",function(u){return Ut(o.agreeToFinish,u)||(o.agreeToFinish=u),u}),d(43),c(44,"translate"),s()(),l(45,"div",11)(46,"button",12),d(47),c(48,"translate"),s()()()),t&2&&(r(2),h(p(3,17,"tk.nog.config.label.game-end.victory-check.title")),r(4),b(6,o.data.autodestructionHappened?6:-1),r(2),h(p(9,19,"tk.nog.config.label.game-end.victory-check.message")),r(4),v("1) ",p(13,21,"tk.nog.config.label.game-end.victory-check.step1.title"),""),r(2),_("innerHtml",p(15,23,"tk.nog.config.label.game-end.victory-check.step1.description"),q),r(3),v("2) ",p(18,25,"tk.nog.config.label.game-end.victory-check.step2.title"),""),r(2),_("innerHtml",p(20,27,"tk.nog.config.label.game-end.victory-check.step2.description"),q),r(3),v("3) ",p(23,29,"tk.nog.config.label.game-end.victory-check.step3.title"),""),r(2),_("innerHtml",p(25,31,"tk.nog.config.label.game-end.victory-check.step3.description"),q),r(3),v("4) ",p(28,33,"tk.nog.config.label.game-end.victory-check.step4.title"),""),r(2),_("innerHtml",p(30,35,"tk.nog.config.label.game-end.victory-check.step4.description"),q),r(6),v("",p(36,37,"tk.nog.config.label.game-end.summary.duration"),": "),r(3),h(p(39,39,o.duration)),r(2),B(o.data.players),r(2),Gt("ngModel",o.agreeToFinish),r(),h(p(44,41,"tk.nog.config.label.game-end.agree-to-finish")),r(3),_("disabled",!o.agreeToFinish),r(),v(" ",p(48,43,"tk.general.label.button.finish")," "))},dependencies:[O,A,V,G,mt,bt,pt,Fe,he,vn],styles:[".heading2[_ngcontent-%COMP%]{margin-top:var(--sizing-20)}.summary[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-10);margin:var(--sizing-20) 0;font-weight:600}.summary[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{font-weight:400}.summary[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:var(--sizing-10)}"],changeDetection:0});let i=n;return i})();var ra=[25,16,9,10],oi=()=>ra.map((i,n)=>({name:`tk.nog.faq-modal.group${n+1}.name`,items:Array.from({length:i}).map((a,e)=>`tk.nog.faq-modal.group${n+1}.qa${e+1}`)}));var sa=["tk.nog.key-moments-modal.first-intruder","tk.nog.key-moments-modal.first-player-death","tk.nog.key-moments-modal.hibernation-chambers","tk.nog.key-moments-modal.self-destruct"],ai=()=>[...sa];var la=[{name:"tk.nog.rooms-modal.label.group1",items:[{name:"tk.nog.rooms-modal.label.group1.room1",content:"tk.nog.rooms-modal.label.group1.room1.content"},{name:"tk.nog.rooms-modal.label.group1.room2",content:"tk.nog.rooms-modal.label.group1.room2.content"},{name:"tk.nog.rooms-modal.label.group1.room3",content:"tk.nog.rooms-modal.label.group1.room3.content"},{name:"tk.nog.rooms-modal.label.group1.room4",content:"tk.nog.rooms-modal.label.group1.room4.content"},{name:"tk.nog.rooms-modal.label.group1.room5",content:"tk.nog.rooms-modal.label.group1.room5.content"},{name:"tk.nog.rooms-modal.label.group1.room6",content:"tk.nog.rooms-modal.label.group1.room6.content"},{name:"tk.nog.rooms-modal.label.group1.room7",content:"tk.nog.rooms-modal.label.group1.room7.content"},{name:"tk.nog.rooms-modal.label.group1.room8",content:"tk.nog.rooms-modal.label.group1.room8.content"},{name:"tk.nog.rooms-modal.label.group1.room9",content:"tk.nog.rooms-modal.label.group1.room9.content"},{name:"tk.nog.rooms-modal.label.group1.room10",content:"tk.nog.rooms-modal.label.group1.room10.content"},{name:"tk.nog.rooms-modal.label.group1.room11",content:"tk.nog.rooms-modal.label.group1.room11.content"}]},{name:"tk.nog.rooms-modal.label.group2",items:[{name:"tk.nog.rooms-modal.label.group2.room1",content:"tk.nog.rooms-modal.label.group2.room1.content"},{name:"tk.nog.rooms-modal.label.group2.room2",content:"tk.nog.rooms-modal.label.group2.room2.content"},{name:"tk.nog.rooms-modal.label.group2.room3",content:"tk.nog.rooms-modal.label.group2.room3.content"},{name:"tk.nog.rooms-modal.label.group2.room4",content:"tk.nog.rooms-modal.label.group2.room4.content"},{name:"tk.nog.rooms-modal.label.group2.room5",content:"tk.nog.rooms-modal.label.group2.room5.content"},{name:"tk.nog.rooms-modal.label.group2.room6",content:"tk.nog.rooms-modal.label.group2.room6.content"},{name:"tk.nog.rooms-modal.label.group2.room7",content:"tk.nog.rooms-modal.label.group2.room7.content"},{name:"tk.nog.rooms-modal.label.group2.room8",content:"tk.nog.rooms-modal.label.group2.room8.content"},{name:"tk.nog.rooms-modal.label.group2.room9",content:"tk.nog.rooms-modal.label.group2.room9.content"}]},{name:"tk.nog.rooms-modal.label.group3",items:[{name:"tk.nog.rooms-modal.label.group3.room1",content:"tk.nog.rooms-modal.label.group3.room1.content"},{name:"tk.nog.rooms-modal.label.group3.room2",content:"tk.nog.rooms-modal.label.group3.room2.content"},{name:"tk.nog.rooms-modal.label.group3.room3",content:"tk.nog.rooms-modal.label.group3.room3.content"}]}],ri=()=>la.map(i=>I({},i));var Bt=(()=>{let n=class n{constructor(){this.modalService=C(ge),this.gameId=C(Ye)}openMonsterWarning(e){return this.modalService.openComponent(Xe,K(I({},xe),{panelClass:"small-modal",data:{titleKey:"tk.nog.monsters-warning.title.draw",messageKey:"tk.nog.monsters-warning.message.draw",yesButtonKey:"tk.general.label.button.continue",showTokenBack:!0,monster:e}}))}openFirstEncounterWarning(){return this.modalService.openConfirmation({titleKey:"tk.nog.config.label.key-moment.first-encounter.title",messageKey:"tk.nog.config.label.key-moment.first-encounter.message",yesButtonKey:"tk.general.label.button.continue",noButtonKey:void 0})}openAddMonsterWarning(e){return this.modalService.openComponent(Xe,K(I({},xe),{panelClass:"small-modal",data:{titleKey:"tk.nog.monsters-warning.title.add",messageKey:"tk.nog.monsters-warning.message.add",yesButtonKey:"tk.general.label.button.continue",monster:e}}))}openMonsterDetails(e){return this.modalService.openComponent(ni,K(I({},Se),{panelClass:"medium-modal",data:{activeMonsters:e.activeMonsters,availableMonsters:e.availableMonsters,bagMonsters:e.bagMonsters,gameId:this.gameId}}))}openKillMonsterWarning(e){return this.modalService.openComponent(Xe,K(I({},xe),{panelClass:"small-modal",data:{titleKey:"tk.nog.monsters-warning.title.kill",messageKey:"tk.nog.monsters-warning.message.kill",yesButtonKey:"tk.general.label.button.yes",noButtonKey:"tk.general.label.button.no",monster:e}}))}openRetreatMonsterWarning(e){return this.modalService.openComponent(Xe,K(I({},xe),{panelClass:"small-modal",data:{titleKey:"tk.nog.monsters-warning.title.retreat",messageKey:"tk.nog.monsters-warning.message.retreat",yesButtonKey:"tk.general.label.button.yes",noButtonKey:"tk.general.label.button.no",monster:e}}))}openHibernationChambersOpeningWarning(){return this.modalService.openConfirmation({titleKey:"tk.nog.config.label.key-moment.hibernation-chambers-opening.title",messageKey:"tk.nog.config.label.key-moment.hibernation-chambers-opening.message",yesButtonKey:"tk.general.label.button.continue",noButtonKey:void 0})}openInevitableAutodestructionWarning(){return this.modalService.openConfirmation({titleKey:"tk.nog.config.label.key-moment.inevitable-autodestruction.title",messageKey:"tk.nog.config.label.key-moment.inevitable-autodestruction.message",yesButtonKey:"tk.general.label.button.continue",noButtonKey:void 0})}openGameEndSummary(e,t){return this.modalService.openComponent(ii,K(I({},xe),{panelClass:"medium-modal",data:K(I({},e),{autodestructionHappened:t})}))}openSearchForRoom(){return this.modalService.openComponent(Xn,K(I({},Se),{panelClass:"large-modal",data:{roomGroups:ri()}}))}openKeyMoments(){return this.modalService.openComponent(qn,K(I({},Se),{panelClass:"large-modal",data:{gameId:this.gameId,keyMoments:ai()}}))}openFaq(){return this.modalService.openComponent(Wn,K(I({},Se),{panelClass:"large-modal",data:{gameId:this.gameId,faqGroups:oi()}}))}openLogs(e){return this.modalService.openComponent(Qn,K(I({},Se),{panelClass:"medium-modal",data:{gameId:this.gameId,logs:e}}))}openReload(e){return this.modalService.openComponent(Yn,K(I({},Se),{panelClass:"medium-modal",data:{gameId:this.gameId,logs:e}}))}openMonsterDevelopmentResult(e){return this.modalService.openComponent(ei,K(I({},xe),{panelClass:"small-modal",data:{gameId:this.gameId,developmentResult:e,monsterDevelopmentConfig:jn}}))}openExitWarning(){return this.modalService.openConfirmation({titleKey:"tk.exit-confirmation-modal.title",messageKey:"tk.exit-confirmation-modal.message",yesButtonKey:"tk.general.label.button.continue",noButtonKey:"tk.general.label.button.back"})}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=me({token:n,factory:n.\u0275fac});let i=n;return i})();var ma=()=>[];function ca(i,n){if(i&1){let a=P();l(0,"app-section-wrapper",14)(1,"app-monsters-section",15),y("draw",function(t){k(a);let o=g();return x(o.drawMonster(t))})("add",function(t){k(a);let o=g();return x(o.addMonster(t))})("details",function(){k(a);let t=g();return x(t.showMonstersDetails())})("monsterKill",function(t){k(a);let o=g();return x(o.killMonster(t))})("monsterRetreat",function(t){k(a);let o=g();return x(o.retreatMonster(t))}),s()()}if(i&2){let a=g();r(),_("activeMonsters",a.activeMonsters())("availableMonsters",a.availableMonsters())("bagMonsters",a.bagMonsters())}}var da="draw_cards",pa=8,ad=(()=>{let n=class n{constructor(){this.nemesisOriginalModalService=C(Bt),this.nemesisOriginalLoggerService=C(At),this.monsterBagService=C(zn),this.translateService=C(Oe),this.matSnackBar=C(Sn),this.router=C(Jt),this.gameId=C(Ye),this.hibernationChambersOpeningRoundNum=pa,this.gameSetupData=ae.loadGameSetupData(this.gameId),this.stateData=this.loadGameState(),this.monstersEnabled=!this.gameSetupData?.monstersDisabled,this.phasesConfig=R(Gn()),this.rounds=R(this.stateData?.rounds||this.getInitialRounds()),this.endRoundNum=R(Dt(this.stateData?.endRoundNum,this.rounds()[this.rounds().length-1].num)),this.activeRoundNum=R(Dt(this.stateData?.activeRoundNum,this.rounds()[0].num)),this.activeStage=R(this.stateData?.activeStage||da),this.activeMonsters=this.monsterBagService.activeMonsters,this.availableMonsters=this.monsterBagService.availableMonsters,this.bagMonsters=this.monsterBagService.bagMonsters,this.autodestruction=R(this.stateData?.autodestruction||void 0),this.monsterEncounterHappenedRoundNum=R(this.stateData?.monsterEncounterHappenedRoundNum),this.escapePodsUnlocked=R(!!this.stateData?.escapePodsUnlocked),this.summaryData=Xt(()=>$n[this.activeStage()]),this.stateData?this.monsterBagService.loadBags(this.stateData):this.monsterBagService.initMonsters(Vn,Hn(),this.gameSetupData?.players.length||0),this.nemesisOriginalLoggerService.init(this.loadLogs(),()=>this.activeRoundNum())}onRoundTrackerEvent(e){switch(e){case"autodestruction_start":this.triggerAutodestruction(!0);break;case"autodestruction_stop":this.triggerAutodestruction(!1);break;case"end_the_game":this.showGameEndModal();break;default:break}}onPlayerTimeChange(e){let t=ae.loadGameSetupData(this.gameId);t&&ae.saveGameSetupData(this.gameId,K(I({},t),{players:e}))}onPlayerDeath(e){this.escapePodsUnlocked()||(this.escapePodsUnlocked.set(!0),this.saveGameState(),this.nemesisOriginalModalService.openHibernationChambersOpeningWarning())}onStageChange(e){switch(this.activeStage.set(e),e){case"draw_cards":{this.saveGame();break}case"round_tracker_update":{this.incrementRoundTracker();break}case"monster_development":{this.monstersEnabled&&this.triggerMonsterDevelopment();break}default:break}}drawMonster(e){let t=this.monsterBagService.getMonsterEncounterFromBag(e);t&&(this.nemesisOriginalLoggerService.logMonsterEncounter(t),this.nemesisOriginalModalService.openMonsterWarning(t).subscribe(()=>{t.type!==f.BLANK&&!this.monsterEncounterHappenedRoundNum()&&this.handleFirstMonsterEncounter()}))}addMonster(e){let t=this.monsterBagService.addMonsterToBag(e);t&&(this.nemesisOriginalLoggerService.logMonsterAdd(t),this.nemesisOriginalModalService.openAddMonsterWarning(t))}showMonstersDetails(){this.nemesisOriginalModalService.openMonsterDetails({activeMonsters:this.activeMonsters(),availableMonsters:this.availableMonsters(),bagMonsters:this.bagMonsters()})}killMonster(e){this.nemesisOriginalModalService.openKillMonsterWarning(e).pipe(X(t=>!!t)).subscribe(()=>{this.nemesisOriginalLoggerService.logMonsterKill(e),this.monsterBagService.killMonster(e.id)})}retreatMonster(e){this.nemesisOriginalModalService.openRetreatMonsterWarning(e).pipe(X(t=>!!t)).subscribe(()=>{this.nemesisOriginalLoggerService.logMonsterRetreat(e),this.monsterBagService.putMonsterBackToBag(e.id)})}handleFirstMonsterEncounter(){this.monsterEncounterHappenedRoundNum.set(this.activeRoundNum()),this.nemesisOriginalModalService.openFirstEncounterWarning()}showGameEndModal(){let e=ae.loadGameSetupData(this.gameId)||this.gameSetupData;e&&this.nemesisOriginalModalService.openGameEndSummary(e,!!this.autodestruction()).subscribe(()=>{ae.clearAllGameData(this.gameId),this.goToLandingPage()})}openSearchRoomModal(){this.nemesisOriginalModalService.openSearchForRoom()}openKeyMomentsModal(){this.nemesisOriginalModalService.openKeyMoments()}openFaqModal(){this.nemesisOriginalModalService.openFaq()}openLogsModal(){this.nemesisOriginalModalService.openLogs(this.nemesisOriginalLoggerService.logs())}openReloadGameModal(){this.nemesisOriginalModalService.openReload(this.nemesisOriginalLoggerService.logs()).subscribe(e=>{e&&window.location.reload()})}goToLandingPage(){this.nemesisOriginalModalService.openExitWarning().subscribe(e=>{e&&this.router.navigate(["/"])})}getInitialRounds(){return Un()}incrementRoundTracker(){let t=this.activeRoundNum()-1,o=t<=this.endRoundNum(),m=this.autodestruction(),u=m?t<=m.roundNum&&m.state==="red":!1;if(this.nemesisOriginalLoggerService.logRoundChange(t),o||u){this.activeRoundNum.set(t),this.showGameEndModal();return}t===m?.roundNum&&m?.state==="yellow"&&this.triggerInevitableAutodestruction(),t===this.hibernationChambersOpeningRoundNum&&!this.escapePodsUnlocked()&&(this.showHibernationChambersOpeningModal(),this.escapePodsUnlocked.set(!0),this.saveGameState()),this.activeRoundNum.set(t)}triggerMonsterDevelopment(){let e=this.monsterBagService.triggerMonsterDevelopment();this.nemesisOriginalLoggerService.logMonsterDevelopment(e),this.nemesisOriginalModalService.openMonsterDevelopmentResult(e).subscribe(t=>{t&&(this.monsterEncounterHappenedRoundNum.set(this.activeRoundNum()),this.monsterBagService.summonQueenInNest())})}showHibernationChambersOpeningModal(){this.nemesisOriginalModalService.openHibernationChambersOpeningWarning()}triggerAutodestruction(e){this.autodestruction()?.state!=="red"&&(e?(this.nemesisOriginalLoggerService.logAutodestructionStateChange(this.autodestruction()?.state,"yellow"),this.setAutodestruction("yellow")):(this.nemesisOriginalLoggerService.logAutodestructionStateChange(this.autodestruction()?.state,void 0),this.setAutodestruction(void 0)))}triggerInevitableAutodestruction(){this.setAutodestruction("red"),this.nemesisOriginalModalService.openInevitableAutodestructionWarning(),this.nemesisOriginalLoggerService.logAutodestructionStateInevitable()}setAutodestruction(e){if(!e){this.autodestruction.set(void 0);return}let m=this.activeRoundNum()-(e==="red"?4:3);this.autodestruction.set({state:e,roundNum:m<0?0:m})}saveGameState(){ae.saveGameState(this.gameId,{dateIso:new Date().toISOString(),rounds:this.rounds(),endRoundNum:this.endRoundNum(),activeRoundNum:this.activeRoundNum(),activeStage:this.activeStage(),activeMonsters:this.activeMonsters(),availableMonsters:this.availableMonsters(),bagMonsters:this.bagMonsters(),autodestruction:this.autodestruction(),monsterEncounterHappenedRoundNum:this.monsterEncounterHappenedRoundNum(),escapePodsUnlocked:this.escapePodsUnlocked()}),this.nemesisOriginalLoggerService.logSaveGameState()}loadGameState(){return ae.loadGameState(this.gameId)}saveLogs(){ae.saveGameLogs(this.gameId,this.nemesisOriginalLoggerService.logs())}loadLogs(){return ae.loadGameLogs(this.gameId)||[]}notifyAboutSave(){this.matSnackBar.open(this.translateService.instant("tk.notification.game-saved"),void 0,{duration:3e3})}saveGame(){this.saveGameState(),this.saveLogs(),this.notifyAboutSave()}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=S({type:n,selectors:[["app-nemesis-original"]],standalone:!0,features:[ot([At,Bt,{provide:Ye,useValue:"nemesisOriginal"}]),w],decls:15,vars:15,consts:[["autosize",""],["mode","side","position","end",3,"opened"],[3,"openSearchRoomModal","openKeyMomentsModal","openFaqModal","openLogsModal","openReloadModal","goToLandingPage"],[1,"content"],[1,"top-container"],["label","tk.game-section.label.players",1,"players"],[3,"playerTimeChanged","playerDeath","players","timerEnabled"],["label","tk.nog.game-section.label.round-tracker",1,"round-tracker"],[3,"monsterEncounter","roundTrackerEvent","rounds","activeRoundNum","endRoundNum","autodestruction","hibernationRoundNum","enableMonsterEncounterAction","monsterEncounterHappenedRoundNum"],[1,"bottom-container"],["label","tk.game-section.label.steps"],[3,"stage","phasesConfig","activeStage"],["label","tk.game-section.label.step-description"],[3,"summary"],["label","tk.nog.game-section.label.monsters",1,"monsters"],[3,"draw","add","details","monsterKill","monsterRetreat","activeMonsters","availableMonsters","bagMonsters"]],template:function(t,o){t&1&&(l(0,"mat-drawer-container",0)(1,"mat-drawer",1)(2,"app-drawer-content",2),y("openSearchRoomModal",function(){return o.openSearchRoomModal()})("openKeyMomentsModal",function(){return o.openKeyMomentsModal()})("openFaqModal",function(){return o.openFaqModal()})("openLogsModal",function(){return o.openLogsModal()})("openReloadModal",function(){return o.openReloadGameModal()})("goToLandingPage",function(){return o.goToLandingPage()}),s()(),l(3,"div",3)(4,"div",4)(5,"app-section-wrapper",5)(6,"app-players-section",6),y("playerTimeChanged",function(u){return o.onPlayerTimeChange(u)})("playerDeath",function(u){return o.onPlayerDeath(u)}),s()(),l(7,"app-section-wrapper",7)(8,"app-nog-round-tracker-section",8),y("monsterEncounter",function(){return o.handleFirstMonsterEncounter()})("roundTrackerEvent",function(u){return o.onRoundTrackerEvent(u)}),s()()(),l(9,"div",9)(10,"app-section-wrapper",10)(11,"app-phases-section",11),y("stage",function(u){return o.onStageChange(u)}),s()(),l(12,"app-section-wrapper",12),T(13,"app-summary-section",13),s(),M(14,ca,2,3,"app-section-wrapper",14),s()()()),t&2&&(r(),_("opened",!0),r(5),_("players",(o.gameSetupData==null?null:o.gameSetupData.players)||qt(14,ma))("timerEnabled",!!(o.gameSetupData!=null&&o.gameSetupData.timerEnabled)),r(2),_("rounds",o.rounds())("activeRoundNum",o.activeRoundNum())("endRoundNum",o.endRoundNum())("autodestruction",o.autodestruction())("hibernationRoundNum",o.hibernationChambersOpeningRoundNum)("enableMonsterEncounterAction",!o.monstersEnabled)("monsterEncounterHappenedRoundNum",o.monsterEncounterHappenedRoundNum()),r(3),_("phasesConfig",o.phasesConfig())("activeStage",o.activeStage()),r(2),_("summary",o.summaryData()),r(),b(14,o.monstersEnabled?14:-1))},dependencies:[hn,Rn,An,Fn,un,gn,On,Kn,Bn],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}.content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex:1;padding:var(--sizing-20);gap:var(--sizing-20)}.content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]{flex:1;min-width:180px}.content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   .round-tracker[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex:3;min-width:0}.content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex:3;gap:var(--sizing-20);padding:var(--sizing-20)}.content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   app-section-wrapper[_ngcontent-%COMP%]{min-width:240px;display:flex;flex:1}"],changeDetection:0});let i=n;return i})();export{ad as NemesisOriginalComponent};
