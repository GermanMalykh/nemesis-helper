import{a as ze,b as Ae,c as Be,d as Re,e as Ne,f as je,g as Ve,h as Le,j as qe,k as O,n as Ue,q as He,s as Ke,t as Qe,u as $e,v as We,w as Xe,x as Ye}from"./chunk-BAEYNJGC.js";import{$ as Fe,A as w,B as Te,D as Pe,E as Ee,Z as ae,_ as oe,ba as R,ca as q,q as Ge,u as Ie,v as Oe,z as M}from"./chunk-24WXQJQE.js";import{a as Je}from"./chunk-2GAP2OKK.js";import{$a as h,$b as ie,Db as le,Ea as H,Eb as j,Fb as se,Ga as re,Ha as E,Ia as de,Ja as p,La as N,Na as F,Oa as L,Ob as we,P as he,Qa as A,Qb as Se,Ra as B,S as U,Sa as d,Ta as r,U as S,Ua as y,V as D,W as b,Wa as I,Xb as De,Y as W,Z as fe,Za as g,a as Q,ab as Y,b as ge,ba as x,bb as J,ca as C,cb as xe,d as _e,db as ce,eb as Z,fb as ee,ga as be,hb as l,ib as _,ja as X,jb as f,ka as k,kb as te,oa as ve,ob as Ce,pb as v,rb as ye,sa as n,ta as G,tb as s,ub as m,v as $,vb as ke,xb as Me}from"./chunk-MVXMPEVG.js";function ut(a,i){if(a&1&&(d(0,"li"),l(1),d(2,"span"),l(3),r(),l(4,") "),r()),a&2){let c=i.$implicit;n(),f(" ",c.name," ("),n(2),_(c.num)}}var Ze=(()=>{let i=class i{constructor(){this.data=S(oe),this.matDialogRef=S(ae)}onOk(){this.matDialogRef.close()}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=b({type:i,selectors:[["app-game-setup-modal"]],standalone:!0,features:[v],decls:16,vars:9,consts:[[1,"modal-wrapper"],[1,"modal-header"],[1,"modal-content"],[1,"modal-actions"],["mat-flat-button","","color","primary","appNonFocusable","",3,"click"]],template:function(t,o){t&1&&(d(0,"div",0)(1,"div",1),l(2),s(3,"translate"),r(),d(4,"div",2)(5,"div")(6,"p"),l(7),s(8,"translate"),r(),d(9,"ul"),A(10,ut,5,2,"li",null,L),r()()(),d(12,"div",3)(13,"button",4),g("click",function(){return o.onOk()}),l(14),s(15,"translate"),r()()()),t&2&&(n(2),_(m(3,3,"tk.game-setup-modal.title.setup")),n(5),_(m(8,5,"tk.game-setup-modal.label.players")),n(3),B(o.data.players),n(4),f(" ",m(15,7,"tk.general.label.button.continue")," "))},dependencies:[R,w,M,q],styles:[".modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-20)}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.modal-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:var(--sizing-5)}.modal-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.modal-content[_ngcontent-%COMP%]   .supply-sections[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-20)}.modal-content[_ngcontent-%COMP%]   .supply-sections[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:var(--sizing-20)}"],changeDetection:0});let a=i;return a})();var gt=a=>({gameName:a}),et=(()=>{let i=class i{constructor(){this.data=S(oe),this.matDialogRef=S(ae)}onProceed(){this.matDialogRef.close(!0)}onCancel(){this.matDialogRef.close(!1)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=b({type:i,selectors:[["app-save-warning-modal"]],standalone:!0,features:[v],decls:16,vars:17,consts:[[1,"modal-wrapper"],[1,"modal-header"],[1,"modal-content"],[1,"modal-actions"],["mat-stroked-button","","color","primary","appNonFocusable","",3,"click"],["mat-flat-button","","color","primary","appNonFocusable","",3,"click"]],template:function(t,o){t&1&&(d(0,"div",0)(1,"div",1),l(2),s(3,"translate"),s(4,"translate"),r(),d(5,"div",2)(6,"p"),l(7),s(8,"translate"),r()(),d(9,"div",3)(10,"button",4),g("click",function(){return o.onCancel()}),l(11),s(12,"translate"),r(),d(13,"button",5),g("click",function(){return o.onProceed()}),l(14),s(15,"translate"),r()()()),t&2&&(n(2),_(ke(4,6,"tk.save-warning-modal.title.warning",ye(15,gt,m(3,4,o.data.nameKey)))),n(5),_(m(8,9,"tk.save-warning-modal.message.warning")),n(4),f(" ",m(12,11,"tk.general.label.button.cancel")," "),n(3),f(" ",m(15,13,"tk.general.label.button.continue")," "))},dependencies:[R,w,M,q],changeDetection:0});let a=i;return a})();var ft=["*"];var bt=new U("MAT_CARD_CONFIG"),tt=(()=>{let i=class i{constructor(e){this.appearance=e?.appearance||"raised"}};i.\u0275fac=function(t){return new(t||i)(G(bt,8))},i.\u0275cmp=b({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,o){t&2&&N("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[v],ngContentSelectors:ft,decls:1,vars:0,template:function(t,o){t&1&&(Y(),J(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let a=i;return a})();var it=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=W({type:i,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0});let a=i;return a})();var V=function(a){return a[a.SEMI_COOP=0]="SEMI_COOP",a[a.FULL_COOP=1]="FULL_COOP",a}(V||{});var vt=[{id:V.SEMI_COOP,translationKey:"tk.config.label.game-mode.semi-co-op"},{id:V.FULL_COOP,translationKey:"tk.config.label.game-mode.full-co-op"}],at=()=>vt.map(a=>Q({},a));var ot=(()=>{let i=class i{transform(e){return at().find(t=>t.id===e)?.translationKey||""}};i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=fe({name:"gameModeTk",type:i,pure:!0,standalone:!0});let a=i;return a})();function xt(a,i){a&1&&(d(0,"div",3)(1,"span",5),l(2),s(3,"translate"),r()()),a&2&&(n(2),_(m(3,1,"tk.game.label.disabled")))}function Ct(a,i){if(a&1&&(d(0,"div"),l(1),r()),a&2){let c=i.$implicit;n(),te("- ",c.name," (",c.num,")")}}function yt(a,i){if(a&1&&(d(0,"div",6),l(1),s(2,"translate"),r(),d(3,"div",7)(4,"div",8)(5,"span",9),l(6),s(7,"translate"),r(),d(8,"span",10),l(9),s(10,"date"),r()(),d(11,"div",11)(12,"span",9),l(13),s(14,"translate"),r(),d(15,"span",10),l(16),s(17,"gameModeTk"),s(18,"translate"),r()(),d(19,"div",12)(20,"span",9),l(21),s(22,"translate"),r(),d(23,"div"),A(24,Ct,2,2,"div",null,L),r()()()),a&2){let c=i,e=h(2);n(),_(m(2,6,"tk.select-game.label.save-info-title.available")),n(5),f("",m(7,8,"tk.select-game.label.save-details.date"),": "),n(3),_(Me(10,10,c.createdDate,void 0,void 0,e.languageService.currentLanguage())),n(4),f("",m(14,15,"tk.select-game.label.save-details.game-mode"),": "),n(3),_(m(18,19,m(17,17,c.gameMode))),n(5),f("",m(22,21,"tk.select-game.label.save-details.players"),": "),n(3),B(c.players)}}function kt(a,i){a&1&&(d(0,"div",6),l(1),s(2,"translate"),r()),a&2&&(n(),_(m(2,1,"tk.select-game.label.save-info-title.not-available")))}function Mt(a,i){if(a&1){let c=I();d(0,"div",0)(1,"mat-card",1),g("click",function(){x(c);let t=h();return C(t.onGameClicked())}),y(2,"img",2),E(3,xt,4,3,"div",3),r(),d(4,"div",4),E(5,yt,26,23)(6,kt,3,3),r()()}if(a&2){let c,e=h();n(),N("selected",e.isSelected)("disabled",e.gameData.config.disabled),n(),p("ngSrc",e.gameData.config.imageUrl),n(),F(3,e.gameData.config.disabled?3:-1),n(2),F(5,(c=e.gameData.saveState)?5:6,c)}}var nt=(()=>{let i=class i{constructor(){this.isSelected=!1,this.selected=new k,this.languageService=S(Te)}onGameClicked(){this.gameData?.config.disabled||this.selected.emit(this.gameData)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=b({type:i,selectors:[["app-select-game-tile"]],inputs:{gameData:"gameData",isSelected:"isSelected"},outputs:{selected:"selected"},standalone:!0,features:[v],decls:1,vars:1,consts:[[1,"game-container"],[1,"game-tile",3,"click"],["mat-card-image","","width","150","height","150","priority","1",3,"ngSrc"],[1,"game-tile-overlay"],[1,"game-save-info"],[1,"font-24-600"],[1,"save-title"],[1,"save-details"],[1,"save-date"],[1,"text"],[1,"value"],[1,"game-mode"],[1,"players"]],template:function(t,o){t&1&&E(0,Mt,7,7,"div",0),t&2&&F(0,o.gameData?0:-1)},dependencies:[w,M,we,ot,Se,it,tt],styles:['@charset "UTF-8";.game-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-20);margin-bottom:var(--sizing-20)}.game-tile[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s;background-color:transparent!important;max-width:150px;width:150px}.game-tile.selected[_ngcontent-%COMP%]{transform:scale(1.15);background-color:transparent!important}.game-tile.disabled[_ngcontent-%COMP%]{cursor:not-allowed}.game-tile.disabled[_ngcontent-%COMP%]   .game-tile-overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;justify-content:center;align-items:end;background:#808080cc}.game-tile.disabled[_ngcontent-%COMP%]   .game-tile-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:var(--sizing-10);margin-bottom:var(--sizing-20);line-height:30px;text-align:center}.game-tile[_ngcontent-%COMP%]   img[mat-card-image][_ngcontent-%COMP%]{display:block;width:100%;height:auto;object-fit:cover}.dark-mode[_ngcontent-%COMP%]   .game-tile[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .game-tile.selected[_ngcontent-%COMP%]{background-color:transparent!important}.dark-mode[_ngcontent-%COMP%]   mat-card.game-tile[_ngcontent-%COMP%]{background-color:transparent!important}mat-card.game-tile[_ngcontent-%COMP%]{background-color:transparent!important}.game-save-info[_ngcontent-%COMP%]{min-height:120px;height:120px;max-height:120px;max-width:150px;width:150px}.game-save-info[_ngcontent-%COMP%]   .save-title[_ngcontent-%COMP%]{font-weight:700}.game-save-info[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:var(--secondary-text-color)}.game-save-info[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:var(--sizing-5) 0}.game-save-info[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-left:var(--sizing-20);max-width:100px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}'],changeDetection:0});let a=i;return a})();var wt=(a,i)=>i.config.id;function St(a,i){if(a&1){let c=I();d(0,"app-select-game-tile",6),g("selected",function(t){x(c);let o=h();return C(o.onGameSelect(t))}),r()}if(a&2){let c=i.$implicit,e=h();p("gameData",c)("isSelected",(e.selectedGame==null||e.selectedGame.config==null?null:e.selectedGame.config.id)===c.config.id)}}var rt=(()=>{let i=class i{constructor(){this.games=[],this.selectedGame=void 0,this.gameSelect=new k,this.setupGame=new k,this.loadGame=new k}onGameSelect(e){this.gameSelect.emit(e)}setupNewGame(){this.setupGame.emit()}loadSavedGame(){this.loadGame.emit()}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=b({type:i,selectors:[["app-select-game"]],inputs:{games:"games",selectedGame:"selectedGame"},outputs:{gameSelect:"gameSelect",setupGame:"setupGame",loadGame:"loadGame"},standalone:!0,features:[v],decls:15,vars:11,consts:[[1,"select-game-container"],[1,"head-section-label"],[1,"game-tiles"],[3,"gameData","isSelected"],[1,"buttons-container"],["mat-flat-button","","color","primary",3,"click","disabled"],[3,"selected","gameData","isSelected"]],template:function(t,o){t&1&&(d(0,"div",0)(1,"div",1)(2,"h1"),l(3),s(4,"translate"),r()(),d(5,"div",2),A(6,St,1,2,"app-select-game-tile",3,wt),r(),d(8,"div",4)(9,"button",5),g("click",function(){return o.setupNewGame()}),l(10),s(11,"translate"),r(),d(12,"button",5),g("click",function(){return o.loadSavedGame()}),l(13),s(14,"translate"),r()()()),t&2&&(n(3),_(m(4,5,"tk.select-game.label.select-game")),n(3),B(o.games),n(3),p("disabled",!o.selectedGame),n(),f(" ",m(11,7,"tk.select-game.button.start-new-game")," "),n(2),p("disabled",!(o.selectedGame!=null&&o.selectedGame.saveState)),n(),f(" ",m(14,9,"tk.select-game.button.load-game")," "))},dependencies:[nt,w,M,R],styles:['@charset "UTF-8";.select-game-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-40);padding:var(--sizing-40);min-width:220px}.select-game-container[_ngcontent-%COMP%]   .head-section-label[_ngcontent-%COMP%], .select-game-container[_ngcontent-%COMP%]   .game-tiles[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:var(--sizing-40)}.select-game-container[_ngcontent-%COMP%]   .game-tiles[_ngcontent-%COMP%]{margin-bottom:var(--sizing-80)}.select-game-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:min(var(--sizing-80),6vw)}.select-game-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:200px;width:200px}'],changeDetection:0});let a=i;return a})();var Dt=["input"],Gt=["formField"],It=["*"],dt=0,ne=class{constructor(i,c){this.source=i,this.value=c}},Ot={provide:Ne,useExisting:he(()=>me),multi:!0},ct=new U("MatRadioGroup"),Tt=new U("mat-radio-default-options",{providedIn:"root",factory:Pt});function Pt(){return{color:"accent"}}var me=(()=>{let i=class i{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition=e==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=e,this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name=`mat-radio-group-${dt++}`,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new k}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){let e=this._selected!==null&&this._selected.value===this._value;this._radios&&!e&&(this._selected=null,this._radios.forEach(t=>{t.checked=this.value===t.value,t.checked&&(this._selected=t)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new ne(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}};i.\u0275fac=function(t){return new(t||i)(G(le))},i.\u0275dir=W({type:i,selectors:[["mat-radio-group"]],contentQueries:function(t,o,u){if(t&1&&xe(u,pe,5),t&2){let T;Z(T=ee())&&(o._radios=T)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[D.HasDecoratorInputTransform,"disabled","disabled",j],required:[D.HasDecoratorInputTransform,"required","required",j]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[Ce([Ot,{provide:ct,useExisting:i}]),re]});let a=i;return a})(),pe=(()=>{let i=class i{get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,t,o,u,T,P,pt,ue){this._elementRef=t,this._changeDetector=o,this._focusMonitor=u,this._radioDispatcher=T,this._providerOverride=pt,this._uniqueId=`mat-radio-${++dt}`,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new k,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations=P==="NoopAnimations",ue&&(this.tabIndex=se(ue,0))}focus(e,t){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,t)=>{e!==this.id&&t===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new ne(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){let t=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),t&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){let e=this.radioGroup,t;if(!e||!e.selected||this.disabled?t=this.tabIndex:t=e.selected===this?this.tabIndex:-1,t!==this._previousTabIndex){let o=this._inputElement?.nativeElement;o&&(o.setAttribute("tabindex",t+""),this._previousTabIndex=t)}}};i.\u0275fac=function(t){return new(t||i)(G(ct,8),G(X),G(le),G(Ge),G(Ee),G(ve,8),G(Tt,8),be("tabindex"))},i.\u0275cmp=b({type:i,selectors:[["mat-radio-button"]],viewQuery:function(t,o){if(t&1&&(ce(Dt,5),ce(Gt,7,X)),t&2){let u;Z(u=ee())&&(o._inputElement=u.first),Z(u=ee())&&(o._rippleTrigger=u.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(t,o){t&1&&g("focus",function(){return o._inputElement.nativeElement.focus()}),t&2&&(de("id",o.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),N("mat-primary",o.color==="primary")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("mat-mdc-radio-checked",o.checked)("_mat-animation-noopable",o._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[D.None,"aria-label","ariaLabel"],ariaLabelledby:[D.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[D.None,"aria-describedby","ariaDescribedby"],disableRipple:[D.HasDecoratorInputTransform,"disableRipple","disableRipple",j],tabIndex:[D.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?0:se(e)],checked:[D.HasDecoratorInputTransform,"checked","checked",j],value:"value",labelPosition:"labelPosition",disabled:[D.HasDecoratorInputTransform,"disabled","disabled",j],required:[D.HasDecoratorInputTransform,"required","required",j],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[re,v],ngContentSelectors:It,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(t,o){if(t&1){let u=I();Y(),d(0,"div",2,0)(2,"div",3)(3,"div",4),g("click",function(P){return x(u),C(o._onTouchTargetClick(P))}),r(),d(4,"input",5,1),g("change",function(P){return x(u),C(o._onInputInteraction(P))}),r(),d(6,"div",6),y(7,"div",7)(8,"div",8),r(),d(9,"div",9),y(10,"div",10),r()(),d(11,"label",11),J(12),r()()}t&2&&(p("labelPosition",o.labelPosition),n(2),N("mdc-radio--disabled",o.disabled),n(2),p("id",o.inputId)("checked",o.checked)("disabled",o.disabled)("required",o.required),de("name",o.name)("value",o.value)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby),n(5),p("matRippleTrigger",o._rippleTrigger.nativeElement)("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",!0),n(2),p("for",o.inputId))},dependencies:[Ie,Oe],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0});let a=i;return a})();var lt=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=b({type:i,selectors:[["app-info-tooltip"]],inputs:{textKey:"textKey"},standalone:!0,features:[v],decls:2,vars:3,consts:[["svgIcon","info",1,"medium-icon",3,"matTooltip"]],template:function(t,o){t&1&&(y(0,"mat-icon",0),s(1,"translate")),t&2&&p("matTooltip",m(1,1,o.textKey))},dependencies:[Pe,Be,w,M],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--info-tooltip-icon-color);cursor:help}"],changeDetection:0});let a=i;return a})();function Et(a,i){if(a&1&&(d(0,"mat-form-field",3)(1,"mat-label"),l(2),s(3,"translate"),r(),y(4,"input",16),r()),a&2){let c=i.$implicit,e=i.$index;n(2),te("",m(3,3,"tk.selected-game-setup.label.player"),"",e+1,""),n(2),p("formControl",c)}}function Ft(a,i){a&1&&(d(0,"div")(1,"span",17),l(2),s(3,"translate"),r()()),a&2&&(n(2),_(m(3,1,"tk.selected-game-setup.error.not-enough-players")))}function zt(a,i){if(a&1){let c=I();d(0,"div",0)(1,"div",1)(2,"h1"),l(3),s(4,"translate"),r()(),d(5,"div",2),A(6,Et,5,5,"mat-form-field",3,L),r(),d(8,"div",4)(9,"mat-radio-group",5)(10,"mat-radio-button",6),l(11),s(12,"translate"),r(),d(13,"mat-radio-button",6),l(14),s(15,"translate"),r()()(),d(16,"div",7)(17,"mat-checkbox",5),l(18),s(19,"translate"),r(),y(20,"app-info-tooltip",8),r(),d(21,"div",9)(22,"mat-checkbox",5),l(23),s(24,"translate"),r(),y(25,"app-info-tooltip",10),r(),d(26,"div",11)(27,"mat-checkbox",5),l(28),s(29,"translate"),r(),y(30,"app-info-tooltip",12),r(),E(31,Ft,4,3,"div"),d(32,"div",13)(33,"button",14),g("click",function(){x(c);let t=h();return C(t.onGoBackClick())}),l(34),s(35,"translate"),r(),d(36,"button",15),g("click",function(){x(c);let t=h();return C(t.onStartGameClick())}),l(37),s(38,"translate"),r()()()}if(a&2){let c=h();n(3),_(m(4,16,c.selectedGame.config.nameKey)),n(3),B(c.form.controls.players.controls),n(3),p("formControl",c.form.controls.gameMode),n(),p("value",c.gameMode.SEMI_COOP),n(),_(m(12,18,"tk.config.label.game-mode.semi-co-op")),n(2),p("value",c.gameMode.FULL_COOP),n(),_(m(15,20,"tk.config.label.game-mode.full-co-op")),n(3),p("formControl",c.form.controls.randomizePlayerNum),n(),f(" ",m(19,22,"tk.selected-game-setup.label.randomize-players")," "),n(4),p("formControl",c.form.controls.timerEnabled),n(),f(" ",m(24,24,"tk.selected-game-setup.label.enable-timer")," "),n(4),p("formControl",c.form.controls.monstersDisabled),n(),f(" ",m(29,26,c.selectedGame.config.id==="nemesisOriginal"?"tk.nog.selected-game-setup.label.disable-monsters":"tk.nld.selected-game-setup.label.disable-monsters")," "),n(2),p("textKey",c.selectedGame.config.id==="nemesisOriginal"?"tk.nog.selected-game-setup.tooltip.disable-monsters":"tk.nld.selected-game-setup.tooltip.disable-monsters"),n(),F(31,c.showError()?31:-1),n(3),f(" ",m(35,28,"tk.selected-game-setup.button.go-back")," "),n(3),f(" ",m(38,30,"tk.selected-game-setup.button.start-game")," ")}}var st=(()=>{let i=class i{constructor(){this.startGame=new k,this.goBack=new k,this.showError=H(!1),this.gameMode=V,this.form=new qe({players:new He([new O("",{nonNullable:!0}),new O("",{nonNullable:!0}),new O("",{nonNullable:!0}),new O("",{nonNullable:!0}),new O("",{nonNullable:!0})],{validators:[Ve.required]}),gameMode:new O(V.SEMI_COOP,{nonNullable:!0}),randomizePlayerNum:new O(!0,{nonNullable:!0}),timerEnabled:new O(!1,{nonNullable:!0}),monstersDisabled:new O(!1,{nonNullable:!0})}),this.subSink=new _e}ngOnInit(){this.subSink.add(this.form.controls.players.valueChanges.pipe($(()=>this.showError())).subscribe(()=>{this.showError.set(!1)}))}ngOnDestroy(){this.subSink.unsubscribe()}onStartGameClick(){if(this.form.valid&&this.selectedGame){let e=this.form.getRawValue(),t=e.players.filter(u=>u.trim()!==""),o=this.generateGameSetupData(e,t);this.startGame.emit(o)}else this.showError.set(!0)}onGoBackClick(){this.goBack.emit()}generateGameSetupData(e,t){let o=this.selectedGame.config.id,u={players:this.generatePlayersData(t,e.randomizePlayerNum),gameMode:e.gameMode,timerEnabled:e.timerEnabled,monstersDisabled:e.monstersDisabled,createdDate:new Date().toISOString()};return ge(Q({},u),{gameId:o})}generatePlayersData(e,t){let o=Array.from({length:e.length},(T,P)=>P+1),u=t?Ye.shuffle(o):o;return e.map((T,P)=>({name:T,num:u[P],timeUsedMs:0}))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=b({type:i,selectors:[["app-selected-game-setup"]],inputs:{selectedGame:"selectedGame"},outputs:{startGame:"startGame",goBack:"goBack"},standalone:!0,features:[v],decls:1,vars:1,consts:[[1,"selected-game-setup-container"],[1,"head-section-label"],[1,"players"],["appearance","outline"],[1,"game-mode"],["color","primary",3,"formControl"],[3,"value"],[1,"randomize-players"],["textKey","tk.selected-game-setup.tooltip.randomize-players"],[1,"timer"],["textKey","tk.selected-game-setup.tooltip.enable-timer"],[1,"monsters"],[3,"textKey"],[1,"buttons-container"],["mat-stroked-button","","color","primary","appNonFocusable","",3,"click"],["mat-flat-button","","color","primary","appNonFocusable","",3,"click"],["type","text","matInput","",3,"formControl"],[1,"error"]],template:function(t,o){t&1&&E(0,zt,39,32,"div",0),t&2&&F(0,o.selectedGame?0:-1)},dependencies:[me,pe,Ke,je,Le,Ue,Qe,w,M,We,Xe,$e,R,q,lt],styles:[".selected-game-setup-container[_ngcontent-%COMP%]{padding:var(--sizing-40);display:flex;align-items:center;flex-direction:column;gap:var(--sizing-30);min-width:220px}.selected-game-setup-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--sizing-30);justify-content:center;max-width:800px;padding:0 var(--sizing-40)}.selected-game-setup-container[_ngcontent-%COMP%]   .randomize-players[_ngcontent-%COMP%], .selected-game-setup-container[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%], .selected-game-setup-container[_ngcontent-%COMP%]   .monsters[_ngcontent-%COMP%]{display:flex;gap:var(--sizing-10)}.selected-game-setup-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:min(var(--sizing-80),6vw)}.selected-game-setup-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:200px}.selected-game-setup-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--error-text-color)}"],changeDetection:0});let a=i;return a})();function At(a,i){if(a&1){let c=I();d(0,"app-selected-game-setup",3),g("goBack",function(){x(c);let t=h();return C(t.goBackToGameSelection())})("startGame",function(t){x(c);let o=h();return C(o.startNewGame(t))}),r()}if(a&2){let c=h();p("selectedGame",c.selectedGame())}}function Bt(a,i){if(a&1){let c=I();d(0,"app-select-game",4),g("gameSelect",function(t){x(c);let o=h();return C(o.onSelectedGame(t))})("setupGame",function(){x(c);let t=h();return C(t.setupNewGame())})("loadGame",function(){x(c);let t=h();return C(t.loadSavedGame())}),r()}if(a&2){let c=h();p("games",c.games)("selectedGame",c.selectedGame())}}var mt=(()=>{let i=class i{constructor(){this.games=Object.values(Je).map(e=>({config:e,saveState:ie.loadGameSetupData(e.id)})),this.selectedGame=H(this.games.find(e=>e.config.id==="nemesisOriginal")),this.showNewGameForm=H(!1),this.router=S(De),this.matDialog=S(Fe)}onSelectedGame(e){this.selectedGame.set(e)}setupNewGame(){let e=this.selectedGame();e&&(e.saveState?this.matDialog.open(et,{data:e.config,closeOnNavigation:!0,hasBackdrop:!0,panelClass:"small-modal"}).afterClosed().pipe($(t=>t)).subscribe(()=>{this.showNewGameForm.set(!0)}):this.showNewGameForm.set(!0))}loadSavedGame(){this.navigateToSelectedGame()}goBackToGameSelection(){this.showNewGameForm.set(!1)}startNewGame(e){ie.clearAllGameData(e.gameId),ie.saveGameSetupData(e.gameId,e),this.navigateToSelectedGame(),this.matDialog.open(Ze,{data:e,closeOnNavigation:!1,disableClose:!0,hasBackdrop:!0,panelClass:"small-modal"})}navigateToSelectedGame(){let e=this.selectedGame();e&&this.router.navigate([`game/${e.config.path}`])}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=b({type:i,selectors:[["app-start-game"]],standalone:!0,features:[v],decls:5,vars:2,consts:[["autosize",""],["mode","side","position","end",3,"opened"],[3,"selectedGame"],[3,"goBack","startGame","selectedGame"],[3,"gameSelect","setupGame","loadGame","games","selectedGame"]],template:function(t,o){t&1&&(d(0,"mat-drawer-container",0)(1,"mat-drawer",1),y(2,"app-drawer-content"),r(),E(3,At,1,1,"app-selected-game-setup",2)(4,Bt,1,2),r()),t&2&&(n(),p("opened",!0),n(2),F(3,o.showNewGameForm()?3:4))},dependencies:[rt,st,ze,Ae,Re],changeDetection:0});let a=i;return a})();var $a=[{path:"",component:mt}];export{$a as startGameRoutes};
