import{a as je,b as Ve,c as Le,d as qe,e as Ue,f as He,g as Ke,h as Qe,j as $e,k as T,n as We,q as Xe,s as Ye,t as Je,u as Ze,v as et,w as tt,x as it}from"./chunk-LO42GJAF.js";import{$ as Ne,A as S,B as ze,D as Ae,E as Be,Q as Re,R as me,T as pe,U as ue,V as ge,Z as ae,_ as oe,ba as B,ca as L,q as Pe,u as Ee,v as Fe,z as M}from"./chunk-24WXQJQE.js";import{a as at}from"./chunk-2GAP2OKK.js";import{$a as h,$b as ie,Db as le,Ea as H,Eb as N,Fb as se,Ga as ne,Ha as O,Ia as de,Ja as p,La as R,Na as P,Oa as V,Ob as Ie,P as xe,Qa as z,Qb as Te,Ra as A,S as U,Sa as d,Ta as n,U as w,Ua as y,V as D,W as b,Wa as I,Xb as Oe,Y as W,Z as Ce,Za as g,a as Q,ab as Y,b as be,ba as x,bb as J,ca as C,cb as Me,d as ve,db as ce,eb as Z,fb as ee,ga as ye,hb as l,ib as _,ja as X,jb as f,ka as k,kb as te,oa as ke,ob as Se,pb as v,rb as we,sa as r,ta as G,tb as s,ub as m,v as $,vb as De,xb as Ge}from"./chunk-MVXMPEVG.js";function vt(a,t){if(a&1&&(d(0,"li"),l(1),d(2,"span"),l(3),n(),l(4,") "),n()),a&2){let c=t.$implicit;r(),f(" ",c.name," ("),r(2),_(c.num)}}var ot=(()=>{let t=class t{constructor(){this.data=w(oe),this.matDialogRef=w(ae)}onOk(){this.matDialogRef.close()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=b({type:t,selectors:[["app-game-setup-modal"]],standalone:!0,features:[v],decls:16,vars:9,consts:[[1,"modal-wrapper"],[1,"modal-header"],[1,"modal-content"],[1,"modal-actions"],["mat-flat-button","","color","primary","appNonFocusable","",3,"click"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"div",1),l(2),s(3,"translate"),n(),d(4,"div",2)(5,"div")(6,"p"),l(7),s(8,"translate"),n(),d(9,"ul"),z(10,vt,5,2,"li",null,V),n()()(),d(12,"div",3)(13,"button",4),g("click",function(){return o.onOk()}),l(14),s(15,"translate"),n()()()),i&2&&(r(2),_(m(3,3,"tk.game-setup-modal.title.setup")),r(5),_(m(8,5,"tk.game-setup-modal.label.players")),r(3),A(o.data.players),r(4),f(" ",m(15,7,"tk.general.label.button.continue")," "))},dependencies:[B,S,M,L],styles:[".modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-20)}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.modal-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:var(--sizing-5)}.modal-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.modal-content[_ngcontent-%COMP%]   .supply-sections[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-20)}.modal-content[_ngcontent-%COMP%]   .supply-sections[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:var(--sizing-20)}"],changeDetection:0});let a=t;return a})();var xt=a=>({gameName:a}),rt=(()=>{let t=class t{constructor(){this.data=w(oe),this.matDialogRef=w(ae)}onProceed(){this.matDialogRef.close(!0)}onCancel(){this.matDialogRef.close(!1)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=b({type:t,selectors:[["app-save-warning-modal"]],standalone:!0,features:[v],decls:16,vars:17,consts:[[1,"modal-wrapper"],[1,"modal-header"],[1,"modal-content"],[1,"modal-actions"],["mat-stroked-button","","color","primary","appNonFocusable","",3,"click"],["mat-flat-button","","color","primary","appNonFocusable","",3,"click"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"div",1),l(2),s(3,"translate"),s(4,"translate"),n(),d(5,"div",2)(6,"p"),l(7),s(8,"translate"),n()(),d(9,"div",3)(10,"button",4),g("click",function(){return o.onCancel()}),l(11),s(12,"translate"),n(),d(13,"button",5),g("click",function(){return o.onProceed()}),l(14),s(15,"translate"),n()()()),i&2&&(r(2),_(De(4,6,"tk.save-warning-modal.title.warning",we(15,xt,m(3,4,o.data.nameKey)))),r(5),_(m(8,9,"tk.save-warning-modal.message.warning")),r(4),f(" ",m(12,11,"tk.general.label.button.cancel")," "),r(3),f(" ",m(15,13,"tk.general.label.button.continue")," "))},dependencies:[B,S,M,L],changeDetection:0});let a=t;return a})();var kt=["*"];var Mt=new U("MAT_CARD_CONFIG"),nt=(()=>{let t=class t{constructor(e){this.appearance=e?.appearance||"raised"}};t.\u0275fac=function(i){return new(i||t)(G(Mt,8))},t.\u0275cmp=b({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,o){i&2&&R("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[v],ngContentSelectors:kt,decls:1,vars:0,template:function(i,o){i&1&&(Y(),J(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let a=t;return a})();var dt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=W({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0});let a=t;return a})();var ct=(a,t,c,e)=>[Re(a,[ue("true",pe({"background-color":e})),ue("false",pe({"background-color":c})),ge("false <=> true",me(t)),ge("true <=> false",me(t))])];var j=function(a){return a[a.SEMI_COOP=0]="SEMI_COOP",a[a.FULL_COOP=1]="FULL_COOP",a}(j||{});var St=[{id:j.SEMI_COOP,translationKey:"tk.config.label.game-mode.semi-co-op"},{id:j.FULL_COOP,translationKey:"tk.config.label.game-mode.full-co-op"}],lt=()=>St.map(a=>Q({},a));var st=(()=>{let t=class t{transform(e){return lt().find(i=>i.id===e)?.translationKey||""}};t.\u0275fac=function(i){return new(i||t)},t.\u0275pipe=Ce({name:"gameModeTk",type:t,pure:!0,standalone:!0});let a=t;return a})();function wt(a,t){a&1&&(d(0,"span",4),l(1),s(2,"translate"),n()),a&2&&(r(),_(m(2,1,"tk.game.label.disabled")))}function Dt(a,t){if(a&1&&(d(0,"div"),l(1),n()),a&2){let c=t.$implicit;r(),te("- ",c.name," (",c.num,")")}}function Gt(a,t){if(a&1&&(d(0,"div",6),l(1),s(2,"translate"),n(),d(3,"div",7)(4,"div",8)(5,"span",9),l(6),s(7,"translate"),n(),d(8,"span",10),l(9),s(10,"date"),n()(),d(11,"div",11)(12,"span",9),l(13),s(14,"translate"),n(),d(15,"span",10),l(16),s(17,"gameModeTk"),s(18,"translate"),n()(),d(19,"div",12)(20,"span",9),l(21),s(22,"translate"),n(),d(23,"div"),z(24,Dt,2,2,"div",null,V),n()()()),a&2){let c=t,e=h(2);r(),_(m(2,6,"tk.select-game.label.save-info-title.available")),r(5),f("",m(7,8,"tk.select-game.label.save-details.date"),": "),r(3),_(Ge(10,10,c.createdDate,void 0,void 0,e.languageService.currentLanguage())),r(4),f("",m(14,15,"tk.select-game.label.save-details.game-mode"),": "),r(3),_(m(18,19,m(17,17,c.gameMode))),r(5),f("",m(22,21,"tk.select-game.label.save-details.players"),": "),r(3),A(c.players)}}function It(a,t){a&1&&(d(0,"div",6),l(1),s(2,"translate"),n()),a&2&&(r(),_(m(2,1,"tk.select-game.label.save-info-title.not-available")))}function Tt(a,t){if(a&1){let c=I();d(0,"div",0)(1,"mat-card",1),g("click",function(){x(c);let i=h();return C(i.onGameClicked())}),y(2,"img",2),d(3,"div",3),O(4,wt,3,3,"span",4),n()(),d(5,"div",5),O(6,Gt,26,23)(7,It,3,3),n()()}if(a&2){let c,e=h();r(),R("selected",e.isSelected)("disabled",e.gameData.config.disabled),r(),p("ngSrc",e.gameData.config.imageUrl),r(),p("@selectedTile",e.isSelected),r(),P(4,e.gameData.config.disabled?4:-1),r(2),P(6,(c=e.gameData.saveState)?6:7,c)}}var mt=(()=>{let t=class t{constructor(){this.isSelected=!1,this.selected=new k,this.languageService=w(ze)}onGameClicked(){this.gameData?.config.disabled||this.selected.emit(this.gameData)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=b({type:t,selectors:[["app-select-game-tile"]],inputs:{gameData:"gameData",isSelected:"isSelected"},outputs:{selected:"selected"},standalone:!0,features:[v],decls:1,vars:1,consts:[[1,"game-container"],[1,"game-tile",3,"click"],["mat-card-image","","width","200","height","200","priority","1",3,"ngSrc"],[1,"game-tile-overlay"],[1,"font-24-600"],[1,"game-save-info"],[1,"save-title"],[1,"save-details"],[1,"save-date"],[1,"text"],[1,"value"],[1,"game-mode"],[1,"players"]],template:function(i,o){i&1&&O(0,Tt,8,8,"div",0),i&2&&P(0,o.gameData?0:-1)},dependencies:[S,M,Ie,st,Te,dt,nt],styles:[".game-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-20)}.game-tile[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s}.game-tile.selected[_ngcontent-%COMP%]{transform:scale(1.15)}.game-tile.selected[_ngcontent-%COMP%]   .game-tile-overlay[_ngcontent-%COMP%]{background:var(--transparent)}.game-tile.disabled[_ngcontent-%COMP%]{cursor:not-allowed}.game-tile.disabled[_ngcontent-%COMP%]   .game-tile-overlay[_ngcontent-%COMP%]{background:rgba(var(--select-game-tile-overlay-color),.8)!important}.game-tile[_ngcontent-%COMP%]   .game-tile-overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;justify-content:center;align-items:end}.game-tile[_ngcontent-%COMP%]   .game-tile-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:var(--sizing-10);margin-bottom:var(--sizing-20);line-height:30px;text-align:center}.game-save-info[_ngcontent-%COMP%]{min-height:180px;height:180px;max-height:180px}.game-save-info[_ngcontent-%COMP%]   .save-title[_ngcontent-%COMP%]{font-weight:700}.game-save-info[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:var(--secondary-text-color)}.game-save-info[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:var(--sizing-5) 0}.game-save-info[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-left:var(--sizing-20);max-width:140px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],data:{animation:[ct("selectedTile","300ms","rgba(var(--select-game-tile-overlay-color), 0.5)","var(--transparent)")]},changeDetection:0});let a=t;return a})();var Ot=(a,t)=>t.config.id;function Pt(a,t){if(a&1){let c=I();d(0,"app-select-game-tile",6),g("selected",function(i){x(c);let o=h();return C(o.onGameSelect(i))}),n()}if(a&2){let c=t.$implicit,e=h();p("gameData",c)("isSelected",(e.selectedGame==null||e.selectedGame.config==null?null:e.selectedGame.config.id)===c.config.id)}}var pt=(()=>{let t=class t{constructor(){this.games=[],this.selectedGame=void 0,this.gameSelect=new k,this.setupGame=new k,this.loadGame=new k}onGameSelect(e){this.gameSelect.emit(e)}setupNewGame(){this.setupGame.emit()}loadSavedGame(){this.loadGame.emit()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=b({type:t,selectors:[["app-select-game"]],inputs:{games:"games",selectedGame:"selectedGame"},outputs:{gameSelect:"gameSelect",setupGame:"setupGame",loadGame:"loadGame"},standalone:!0,features:[v],decls:15,vars:11,consts:[[1,"select-game-container"],[1,"head-section-label"],[1,"game-tiles"],[3,"gameData","isSelected"],[1,"buttons-container"],["mat-flat-button","","color","primary",3,"click","disabled"],[3,"selected","gameData","isSelected"]],template:function(i,o){i&1&&(d(0,"div",0)(1,"div",1)(2,"h1"),l(3),s(4,"translate"),n()(),d(5,"div",2),z(6,Pt,1,2,"app-select-game-tile",3,Ot),n(),d(8,"div",4)(9,"button",5),g("click",function(){return o.setupNewGame()}),l(10),s(11,"translate"),n(),d(12,"button",5),g("click",function(){return o.loadSavedGame()}),l(13),s(14,"translate"),n()()()),i&2&&(r(3),_(m(4,5,"tk.select-game.label.select-game")),r(3),A(o.games),r(3),p("disabled",!o.selectedGame),r(),f(" ",m(11,7,"tk.select-game.button.start-new-game")," "),r(2),p("disabled",!(o.selectedGame!=null&&o.selectedGame.saveState)),r(),f(" ",m(14,9,"tk.select-game.button.load-game")," "))},dependencies:[mt,S,M,B],styles:[".select-game-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--sizing-40);padding:var(--sizing-40);min-width:220px}.select-game-container[_ngcontent-%COMP%]   .head-section-label[_ngcontent-%COMP%], .select-game-container[_ngcontent-%COMP%]   .game-tiles[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:var(--sizing-40)}.select-game-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:min(var(--sizing-80),6vw)}.select-game-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:200px;width:200px}"],changeDetection:0});let a=t;return a})();var Et=["input"],Ft=["formField"],zt=["*"],ut=0,re=class{constructor(t,c){this.source=t,this.value=c}},At={provide:Ue,useExisting:xe(()=>_e),multi:!0},gt=new U("MatRadioGroup"),Bt=new U("mat-radio-default-options",{providedIn:"root",factory:Rt});function Rt(){return{color:"accent"}}var _e=(()=>{let t=class t{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition=e==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=e,this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name=`mat-radio-group-${ut++}`,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new k}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){let e=this._selected!==null&&this._selected.value===this._value;this._radios&&!e&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new re(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}};t.\u0275fac=function(i){return new(i||t)(G(le))},t.\u0275dir=W({type:t,selectors:[["mat-radio-group"]],contentQueries:function(i,o,u){if(i&1&&Me(u,he,5),i&2){let F;Z(F=ee())&&(o._radios=F)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[D.HasDecoratorInputTransform,"disabled","disabled",N],required:[D.HasDecoratorInputTransform,"required","required",N]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[Se([At,{provide:gt,useExisting:t}]),ne]});let a=t;return a})(),he=(()=>{let t=class t{get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,o,u,F,q,bt,fe){this._elementRef=i,this._changeDetector=o,this._focusMonitor=u,this._radioDispatcher=F,this._providerOverride=bt,this._uniqueId=`mat-radio-${++ut}`,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new k,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations=q==="NoopAnimations",fe&&(this.tabIndex=se(fe,0))}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,i)=>{e!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new re(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){let i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){let e=this.radioGroup,i;if(!e||!e.selected||this.disabled?i=this.tabIndex:i=e.selected===this?this.tabIndex:-1,i!==this._previousTabIndex){let o=this._inputElement?.nativeElement;o&&(o.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}};t.\u0275fac=function(i){return new(i||t)(G(gt,8),G(X),G(le),G(Pe),G(Be),G(ke,8),G(Bt,8),ye("tabindex"))},t.\u0275cmp=b({type:t,selectors:[["mat-radio-button"]],viewQuery:function(i,o){if(i&1&&(ce(Et,5),ce(Ft,7,X)),i&2){let u;Z(u=ee())&&(o._inputElement=u.first),Z(u=ee())&&(o._rippleTrigger=u.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(i,o){i&1&&g("focus",function(){return o._inputElement.nativeElement.focus()}),i&2&&(de("id",o.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),R("mat-primary",o.color==="primary")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("mat-mdc-radio-checked",o.checked)("_mat-animation-noopable",o._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[D.None,"aria-label","ariaLabel"],ariaLabelledby:[D.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[D.None,"aria-describedby","ariaDescribedby"],disableRipple:[D.HasDecoratorInputTransform,"disableRipple","disableRipple",N],tabIndex:[D.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?0:se(e)],checked:[D.HasDecoratorInputTransform,"checked","checked",N],value:"value",labelPosition:"labelPosition",disabled:[D.HasDecoratorInputTransform,"disabled","disabled",N],required:[D.HasDecoratorInputTransform,"required","required",N],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[ne,v],ngContentSelectors:zt,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,o){if(i&1){let u=I();Y(),d(0,"div",2,0)(2,"div",3)(3,"div",4),g("click",function(q){return x(u),C(o._onTouchTargetClick(q))}),n(),d(4,"input",5,1),g("change",function(q){return x(u),C(o._onInputInteraction(q))}),n(),d(6,"div",6),y(7,"div",7)(8,"div",8),n(),d(9,"div",9),y(10,"div",10),n()(),d(11,"label",11),J(12),n()()}i&2&&(p("labelPosition",o.labelPosition),r(2),R("mdc-radio--disabled",o.disabled),r(2),p("id",o.inputId)("checked",o.checked)("disabled",o.disabled)("required",o.required),de("name",o.name)("value",o.value)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby),r(5),p("matRippleTrigger",o._rippleTrigger.nativeElement)("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",!0),r(2),p("for",o.inputId))},dependencies:[Ee,Fe],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0});let a=t;return a})();var _t=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=b({type:t,selectors:[["app-info-tooltip"]],inputs:{textKey:"textKey"},standalone:!0,features:[v],decls:2,vars:3,consts:[["svgIcon","info",1,"medium-icon",3,"matTooltip"]],template:function(i,o){i&1&&(y(0,"mat-icon",0),s(1,"translate")),i&2&&p("matTooltip",m(1,1,o.textKey))},dependencies:[Ae,Le,S,M],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--info-tooltip-icon-color);cursor:help}"],changeDetection:0});let a=t;return a})();function Nt(a,t){if(a&1&&(d(0,"mat-form-field",3)(1,"mat-label"),l(2),s(3,"translate"),n(),y(4,"input",16),n()),a&2){let c=t.$implicit,e=t.$index;r(2),te("",m(3,3,"tk.selected-game-setup.label.player"),"",e+1,""),r(2),p("formControl",c)}}function jt(a,t){a&1&&(d(0,"div")(1,"span",17),l(2),s(3,"translate"),n()()),a&2&&(r(2),_(m(3,1,"tk.selected-game-setup.error.not-enough-players")))}function Vt(a,t){if(a&1){let c=I();d(0,"div",0)(1,"div",1)(2,"h1"),l(3),s(4,"translate"),n()(),d(5,"div",2),z(6,Nt,5,5,"mat-form-field",3,V),n(),d(8,"div",4)(9,"mat-radio-group",5)(10,"mat-radio-button",6),l(11),s(12,"translate"),n(),d(13,"mat-radio-button",6),l(14),s(15,"translate"),n()()(),d(16,"div",7)(17,"mat-checkbox",5),l(18),s(19,"translate"),n(),y(20,"app-info-tooltip",8),n(),d(21,"div",9)(22,"mat-checkbox",5),l(23),s(24,"translate"),n(),y(25,"app-info-tooltip",10),n(),d(26,"div",11)(27,"mat-checkbox",5),l(28),s(29,"translate"),n(),y(30,"app-info-tooltip",12),n(),O(31,jt,4,3,"div"),d(32,"div",13)(33,"button",14),g("click",function(){x(c);let i=h();return C(i.onGoBackClick())}),l(34),s(35,"translate"),n(),d(36,"button",15),g("click",function(){x(c);let i=h();return C(i.onStartGameClick())}),l(37),s(38,"translate"),n()()()}if(a&2){let c=h();r(3),_(m(4,16,c.selectedGame.config.nameKey)),r(3),A(c.form.controls.players.controls),r(3),p("formControl",c.form.controls.gameMode),r(),p("value",c.gameMode.SEMI_COOP),r(),_(m(12,18,"tk.config.label.game-mode.semi-co-op")),r(2),p("value",c.gameMode.FULL_COOP),r(),_(m(15,20,"tk.config.label.game-mode.full-co-op")),r(3),p("formControl",c.form.controls.randomizePlayerNum),r(),f(" ",m(19,22,"tk.selected-game-setup.label.randomize-players")," "),r(4),p("formControl",c.form.controls.timerEnabled),r(),f(" ",m(24,24,"tk.selected-game-setup.label.enable-timer")," "),r(4),p("formControl",c.form.controls.monstersDisabled),r(),f(" ",m(29,26,c.selectedGame.config.id==="nemesisOriginal"?"tk.nog.selected-game-setup.label.disable-monsters":"tk.nld.selected-game-setup.label.disable-monsters")," "),r(2),p("textKey",c.selectedGame.config.id==="nemesisOriginal"?"tk.nog.selected-game-setup.tooltip.disable-monsters":"tk.nld.selected-game-setup.tooltip.disable-monsters"),r(),P(31,c.showError()?31:-1),r(3),f(" ",m(35,28,"tk.selected-game-setup.button.go-back")," "),r(3),f(" ",m(38,30,"tk.selected-game-setup.button.start-game")," ")}}var ht=(()=>{let t=class t{constructor(){this.startGame=new k,this.goBack=new k,this.showError=H(!1),this.gameMode=j,this.form=new $e({players:new Xe([new T("",{nonNullable:!0}),new T("",{nonNullable:!0}),new T("",{nonNullable:!0}),new T("",{nonNullable:!0}),new T("",{nonNullable:!0})],{validators:[Ke.required]}),gameMode:new T(j.SEMI_COOP,{nonNullable:!0}),randomizePlayerNum:new T(!0,{nonNullable:!0}),timerEnabled:new T(!1,{nonNullable:!0}),monstersDisabled:new T(!1,{nonNullable:!0})}),this.subSink=new ve}ngOnInit(){this.subSink.add(this.form.controls.players.valueChanges.pipe($(()=>this.showError())).subscribe(()=>{this.showError.set(!1)}))}ngOnDestroy(){this.subSink.unsubscribe()}onStartGameClick(){if(this.form.valid&&this.selectedGame){let e=this.form.getRawValue(),i=e.players.filter(u=>u.trim()!==""),o=this.generateGameSetupData(e,i);this.startGame.emit(o)}else this.showError.set(!0)}onGoBackClick(){this.goBack.emit()}generateGameSetupData(e,i){let o=this.selectedGame.config.id,u={players:this.generatePlayersData(i,e.randomizePlayerNum),gameMode:e.gameMode,timerEnabled:e.timerEnabled,monstersDisabled:e.monstersDisabled,createdDate:new Date().toISOString()};return be(Q({},u),{gameId:o})}generatePlayersData(e,i){let o=i?it.shuffle([1,2,3,4,5]):[1,2,3,4,5];return e.map((u,F)=>({name:u,num:o[F],timeUsedMs:0}))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=b({type:t,selectors:[["app-selected-game-setup"]],inputs:{selectedGame:"selectedGame"},outputs:{startGame:"startGame",goBack:"goBack"},standalone:!0,features:[v],decls:1,vars:1,consts:[[1,"selected-game-setup-container"],[1,"head-section-label"],[1,"players"],["appearance","outline"],[1,"game-mode"],["color","primary",3,"formControl"],[3,"value"],[1,"randomize-players"],["textKey","tk.selected-game-setup.tooltip.randomize-players"],[1,"timer"],["textKey","tk.selected-game-setup.tooltip.enable-timer"],[1,"monsters"],[3,"textKey"],[1,"buttons-container"],["mat-stroked-button","","color","primary","appNonFocusable","",3,"click"],["mat-flat-button","","color","primary","appNonFocusable","",3,"click"],["type","text","matInput","",3,"formControl"],[1,"error"]],template:function(i,o){i&1&&O(0,Vt,39,32,"div",0),i&2&&P(0,o.selectedGame?0:-1)},dependencies:[_e,he,Ye,He,Qe,We,Je,S,M,et,tt,Ze,B,L,_t],styles:[".selected-game-setup-container[_ngcontent-%COMP%]{padding:var(--sizing-40);display:flex;align-items:center;flex-direction:column;gap:var(--sizing-30);min-width:220px}.selected-game-setup-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--sizing-30);justify-content:center;max-width:800px;padding:0 var(--sizing-40)}.selected-game-setup-container[_ngcontent-%COMP%]   .randomize-players[_ngcontent-%COMP%], .selected-game-setup-container[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%], .selected-game-setup-container[_ngcontent-%COMP%]   .monsters[_ngcontent-%COMP%]{display:flex;gap:var(--sizing-10)}.selected-game-setup-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:min(var(--sizing-80),6vw)}.selected-game-setup-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:200px}.selected-game-setup-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--error-text-color)}"],changeDetection:0});let a=t;return a})();function Lt(a,t){if(a&1){let c=I();d(0,"app-selected-game-setup",3),g("goBack",function(){x(c);let i=h();return C(i.goBackToGameSelection())})("startGame",function(i){x(c);let o=h();return C(o.startNewGame(i))}),n()}if(a&2){let c=h();p("selectedGame",c.selectedGame())}}function qt(a,t){if(a&1){let c=I();d(0,"app-select-game",4),g("gameSelect",function(i){x(c);let o=h();return C(o.onSelectedGame(i))})("setupGame",function(){x(c);let i=h();return C(i.setupNewGame())})("loadGame",function(){x(c);let i=h();return C(i.loadSavedGame())}),n()}if(a&2){let c=h();p("games",c.games)("selectedGame",c.selectedGame())}}var ft=(()=>{let t=class t{constructor(){this.selectedGame=H(void 0),this.showNewGameForm=H(!1),this.games=Object.values(at).map(e=>({config:e,saveState:ie.loadGameSetupData(e.id)})),this.router=w(Oe),this.matDialog=w(Ne)}onSelectedGame(e){this.selectedGame.set(e)}setupNewGame(){let e=this.selectedGame();e&&(e.saveState?this.matDialog.open(rt,{data:e.config,closeOnNavigation:!0,hasBackdrop:!0,panelClass:"small-modal"}).afterClosed().pipe($(i=>i)).subscribe(()=>{this.showNewGameForm.set(!0)}):this.showNewGameForm.set(!0))}loadSavedGame(){this.navigateToSelectedGame()}goBackToGameSelection(){this.showNewGameForm.set(!1)}startNewGame(e){ie.clearAllGameData(e.gameId),ie.saveGameSetupData(e.gameId,e),this.navigateToSelectedGame(),this.matDialog.open(ot,{data:e,closeOnNavigation:!1,disableClose:!0,hasBackdrop:!0,panelClass:"small-modal"})}navigateToSelectedGame(){let e=this.selectedGame();e&&this.router.navigate([`game/${e.config.path}`])}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=b({type:t,selectors:[["app-start-game"]],standalone:!0,features:[v],decls:5,vars:2,consts:[["autosize",""],["mode","side","position","end",3,"opened"],[3,"selectedGame"],[3,"goBack","startGame","selectedGame"],[3,"gameSelect","setupGame","loadGame","games","selectedGame"]],template:function(i,o){i&1&&(d(0,"mat-drawer-container",0)(1,"mat-drawer",1),y(2,"app-drawer-content"),n(),O(3,Lt,1,1,"app-selected-game-setup",2)(4,qt,1,2),n()),i&2&&(r(),p("opened",!0),r(2),P(3,o.showNewGameForm()?3:4))},dependencies:[pt,ht,je,Ve,qe],changeDetection:0});let a=t;return a})();var ao=[{path:"",component:ft}];export{ao as startGameRoutes};
